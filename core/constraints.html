<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>
            
    
    定义约束和索引
 &mdash;
    SQLAlchemy 2.0 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/default.css" type="text/css" />
                <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 2.0 Documentation" href="../index.html" />
        <link rel="up" title="Schema定义语言" href="schema.html" />
        <link rel="next" title="自定义DDL" href="ddl.html" />
        <link rel="prev" title="列的INSERT/UPDATE默认值" href="defaults.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">2.0.19</span>


        | Release Date: July 15, 2023

    </div>

    <h1><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">



        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../index.html">Home</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="SQLAlchemy核心模块">SQLAlchemy核心模块</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="expression_api.html">SQL语句和表达式API</a></span></li>
<li><span class="link-container"><a class="reference external" href="schema.html">Schema定义语言</a></span><ul>
<li><span class="link-container"><a class="reference external" href="metadata.html">使用 MetaData 描述数据库</a></span></li>
<li><span class="link-container"><a class="reference external" href="reflection.html">反射数据库对象</a></span></li>
<li><span class="link-container"><a class="reference external" href="defaults.html">列的INSERT/UPDATE默认值</a></span></li>
<li class="selected"><span class="link-container"><strong>定义约束和索引</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#metadata-foreignkeys">定义外键</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#id29">为元数据集合配置命名约定</a></span></li>
<li><span class="link-container"><a class="reference external" href="#constraint-default-naming-convention">默认命名约定</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id33">截断长名称</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id34">创建自定义的命名约定令牌</a></span></li>
<li><span class="link-container"><a class="reference external" href="#check">命名CHECK约束</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#checkconstraint-columns-0-name-s-schema-column-expression-column-constraints-indexes"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint`还支持</span> <span class="pre">``%(columns_0_name)s`</span></code> 令牌；我们可以通过确保在约束的表达式中使用 <code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code> 或 <code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code> 元素来利用它，无论是将约束声明与表分开还是将其定义在表中：：约束（Constraints）和索引（Indexes）</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#id38">配置约束名称</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id39">创建约束</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">Constraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.__init__"><code class="docutils literal notranslate"><span class="pre">Constraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.argument_for"><code class="docutils literal notranslate"><span class="pre">Constraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.copy"><code class="docutils literal notranslate"><span class="pre">Constraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">Constraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">Constraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">Constraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.info"><code class="docutils literal notranslate"><span class="pre">Constraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.kwargs"><code class="docutils literal notranslate"><span class="pre">Constraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionMixin"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.columns"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.info"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.columns"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.copy"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.info"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.__init__"><code class="docutils literal notranslate"><span class="pre">ForeignKey.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.argument_for"><code class="docutils literal notranslate"><span class="pre">ForeignKey.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.column"><code class="docutils literal notranslate"><span class="pre">ForeignKey.column</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.copy"><code class="docutils literal notranslate"><span class="pre">ForeignKey.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKey.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.dialect_options"><code class="docutils literal notranslate"><span class="pre">ForeignKey.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.get_referent"><code class="docutils literal notranslate"><span class="pre">ForeignKey.get_referent()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.info"><code class="docutils literal notranslate"><span class="pre">ForeignKey.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKey.kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.references"><code class="docutils literal notranslate"><span class="pre">ForeignKey.references()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.target_fullname"><code class="docutils literal notranslate"><span class="pre">ForeignKey.target_fullname</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.column_keys"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.column_keys</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.columns"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.copy"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.elements"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.elements</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.info"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.referred_table"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.referred_table</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.HasConditionalDDL"><code class="docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.columns"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.copy"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.info"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.columns"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.copy"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.info"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.kwargs</span></code></a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#indexes">创建 Indexes</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">Index</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.__init__"><code class="docutils literal notranslate"><span class="pre">Index.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.argument_for"><code class="docutils literal notranslate"><span class="pre">Index.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.create"><code class="docutils literal notranslate"><span class="pre">Index.create()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.ddl_if"><code class="docutils literal notranslate"><span class="pre">Index.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">Index.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.dialect_options"><code class="docutils literal notranslate"><span class="pre">Index.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.drop"><code class="docutils literal notranslate"><span class="pre">Index.drop()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.info"><code class="docutils literal notranslate"><span class="pre">Index.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.kwargs"><code class="docutils literal notranslate"><span class="pre">Index.kwargs</span></code></a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#id40">功能性索引</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="ddl.html">自定义DDL</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="types.html">SQL数据库类型对象</a></span></li>
<li><span class="link-container"><a class="reference external" href="engines_connections.html">引擎和连接使用</a></span></li>
<li><span class="link-container"><a class="reference external" href="api_basics.html">核心API基础知识</a></span></li>
</ul>



        </div>

        </div>

    </div>

    <div id="narrow-index-nav">
        <form class="search" action="../search.html" method="get">
            <label>
                Search terms:
            <input type="text" placeholder="search..." name="q" size="12" />
            </label>
            <input type="submit" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>

        <p>
        <a href="../index.html">Home</a>
        </p>

    </div>


        <div id="docs-narrow-top-navigation">
            <ul>
                <li><b>Previous:</b>
                <a href="defaults.html" title="previous chapter">列的INSERT/UPDATE默认值</a></li>
                <li><b>Next:</b>
                <a href="ddl.html" title="next chapter">自定义DDL</a></li>

            <li><b>Up:</b> <a href="../index.html">Home</a></li>
                    <ul><li><a href="index.html" title="SQLAlchemy核心模块">SQLAlchemy核心模块</a></li>
                    <ul><li><a href="schema.html" title="Schema定义语言">Schema定义语言</a></li>
                </ul>
                </ul>



            <li><b>On this page:</b></li>
            <ul>
<li><a class="reference internal" href="#metadata-constraints">定义约束和索引</a><ul>
<li><a class="reference internal" href="#metadata-foreignkeys">定义外键</a><ul>
<li><a class="reference internal" href="#id29">为元数据集合配置命名约定</a></li>
<li><a class="reference internal" href="#constraint-default-naming-convention">默认命名约定</a></li>
<li><a class="reference internal" href="#id33">截断长名称</a></li>
<li><a class="reference internal" href="#id34">创建自定义的命名约定令牌</a></li>
<li><a class="reference internal" href="#check">命名CHECK约束</a></li>
</ul>
</li>
<li><a class="reference internal" href="#checkconstraint-columns-0-name-s-schema-column-expression-column-constraints-indexes"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint`还支持</span> <span class="pre">``%(columns_0_name)s`</span></code> 令牌；我们可以通过确保在约束的表达式中使用 <code class="xref py py-class docutils literal notranslate"><span class="pre">_schema.Column</span></code> 或 <code class="xref py py-func docutils literal notranslate"><span class="pre">_expression.column()</span></code> 元素来利用它，无论是将约束声明与表分开还是将其定义在表中：：约束（Constraints）和索引（Indexes）</a><ul>
<li><a class="reference internal" href="#id38">配置约束名称</a></li>
<li><a class="reference internal" href="#id39">创建约束</a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">Constraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.__init__"><code class="docutils literal notranslate"><span class="pre">Constraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.argument_for"><code class="docutils literal notranslate"><span class="pre">Constraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.copy"><code class="docutils literal notranslate"><span class="pre">Constraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">Constraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">Constraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">Constraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.info"><code class="docutils literal notranslate"><span class="pre">Constraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.kwargs"><code class="docutils literal notranslate"><span class="pre">Constraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.columns"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.info"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.columns"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.copy"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.info"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.__init__"><code class="docutils literal notranslate"><span class="pre">ForeignKey.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for"><code class="docutils literal notranslate"><span class="pre">ForeignKey.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.column"><code class="docutils literal notranslate"><span class="pre">ForeignKey.column</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.copy"><code class="docutils literal notranslate"><span class="pre">ForeignKey.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKey.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.dialect_options"><code class="docutils literal notranslate"><span class="pre">ForeignKey.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.get_referent"><code class="docutils literal notranslate"><span class="pre">ForeignKey.get_referent()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.info"><code class="docutils literal notranslate"><span class="pre">ForeignKey.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKey.kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.references"><code class="docutils literal notranslate"><span class="pre">ForeignKey.references()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.target_fullname"><code class="docutils literal notranslate"><span class="pre">ForeignKey.target_fullname</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.column_keys"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.column_keys</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.columns"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.copy"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.elements"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.elements</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.info"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.referred_table"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.referred_table</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL"><code class="docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.columns"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.copy"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.info"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.columns"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.copy"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.info"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.kwargs</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indexes">创建 Indexes</a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">Index</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.__init__"><code class="docutils literal notranslate"><span class="pre">Index.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.argument_for"><code class="docutils literal notranslate"><span class="pre">Index.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.create"><code class="docutils literal notranslate"><span class="pre">Index.create()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.ddl_if"><code class="docutils literal notranslate"><span class="pre">Index.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">Index.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.dialect_options"><code class="docutils literal notranslate"><span class="pre">Index.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.drop"><code class="docutils literal notranslate"><span class="pre">Index.drop()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.info"><code class="docutils literal notranslate"><span class="pre">Index.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.kwargs"><code class="docutils literal notranslate"><span class="pre">Index.kwargs</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id40">功能性索引</a></li>
</ul>
</li>
</ul>
</li>
</ul>


            </ul>

        </div>



    <div id="docs-body" role="main" class="withsidebar core-constraints" >
        
<section id="metadata-constraints">
<span id="metadata-constraints-toplevel"></span><span id="id1"></span><h1>定义约束和索引<a class="headerlink" href="#metadata-constraints" title="Permalink to this heading">¶</a></h1>
<p>本节将讨论SQL <span class="xref std std-term">constraints`和索引。在SQLAlchemy中，关键类包括 :class:`_schema.ForeignKeyConstraint`和 :class:</span>.Index`。</p>
<section id="metadata-foreignkeys">
<span id="id2"></span><h2>定义外键<a class="headerlink" href="#metadata-foreignkeys" title="Permalink to this heading">¶</a></h2>
<p>在SQL中，<a href="#id3"><span class="problematic" id="id4">*</span></a>外键*是一个表级结构，它限制该表中一个或多个列只允许存在于不同组列中的值，通常但不总是位于不同表上。我们称受到限制的列为*foreign key*列，而限制它们的列为*引用*列。引用列几乎总是为其所有者表定义了主键，尽管也有例外情况。外键是将具有彼此关系的行配对在一起的“联接”，在几乎所有操作中，SQLAlchemy都为这个概念赋予了非常深远的重要性。</p>
<p>在SQLAlchemy和DDL中，外键约束可以定义为表子句中的附加属性，或者对于单列外键，它们可以在单个列的定义中选择性地指定。单列外键更常见，在列级别上由构造 :class:<a href="#id5"><span class="problematic" id="id6">`</span></a>~sqlalchemy.schema.Column`对象的 :class:<a href="#id7"><span class="problematic" id="id8">`</span></a>~sqlalchemy.schema.ForeignKey`对象作为参数来指定:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_preference</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;user_preference&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;pref_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;user.user_id&quot;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;pref_name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">40</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;pref_value&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span>
<span class="p">)</span></pre></div>
</div>
<p>在上面的示例中，我们为 <code class="docutils literal notranslate"><span class="pre">user_preference</span></code> 定义了一个新表，其中每行都必须包含在 <code class="docutils literal notranslate"><span class="pre">user``表的</span> <span class="pre">``user_id</span></code> 列中也存在的值。</p>
<p>:class:<a href="#id9"><span class="problematic" id="id10">`</span></a>~sqlalchemy.schema.ForeignKey`的参数通常是 <em>&lt;tablename&gt;.&lt;columnname&gt;*的形式的字符串，或者对于位于远程架构或“所有者”中的表，格式为 &lt;schemaname&gt;.&lt;tablename&gt;.&lt;columnname&gt;</em>。它也可以是一个实际的 :class:<a href="#id11"><span class="problematic" id="id12">`</span></a>~sqlalchemy.schema.Column`对象，稍后我们将看到，它可以通过其``c``集合从现有的:class:<a href="#id13"><span class="problematic" id="id14">`</span></a>~sqlalchemy.schema.Table`对象访问:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span></pre></div>
</div>
<p>使用字符串的优点在于，当第一次需要时，仅当``user``和``user_preference``之间的Python链接得到解析，以便于多个模块轻松地分布表对象，并且可以按任何顺序定义。</p>
<p>还可以在表级别上定义外键，使用 <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> 对象。此对象可以描述单列或多列外键。多列外键称为*组合*外键，并且几乎总是引用具有组合主键的表。下面我们定义一个具有组合主键的表“invoice”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">invoice</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;invoice&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;invoice_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;ref_num&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">60</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
<p>然后再定义一个具有组合外键，引用``invoice``的表“invoice_item”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">invoice_item</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;invoice_item&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;item_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;item_name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">60</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;invoice_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;ref_num&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">ForeignKeyConstraint</span><span class="p">(</span>
        <span class="p">[</span><span class="s2">&quot;invoice_id&quot;</span><span class="p">,</span> <span class="s2">&quot;ref_num&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;invoice.invoice_id&quot;</span><span class="p">,</span> <span class="s2">&quot;invoice.ref_num&quot;</span><span class="p">]</span>
    <span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
<p>重要的是要注意，<a href="#id15"><span class="problematic" id="id16">*</span></a>ForeignKeyConstraint*是定义组合外键的唯一方法。虽然我们还可以在``invoice_item.invoice_id``和``invoice_item.ref_num``两个列上放置单独的:class:<a href="#id17"><span class="problematic" id="id18">`</span></a>~sqlalchemy.schema.ForeignKey`对象，但SQLAlchemy不会意识到这两个值应该配对在一起——它将是单个组合外键，引用两个列，而不是两个独立的外键约束。</p>
<p id="use-alter">通过ALTER创建/删除外键约束
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ~~</p>
<p>DDL中涉及的外键带有的行为，是约束通常在”内联”在CREATE TABLE语句中创建，例如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">addresses</span> <span class="p">(</span>
    <span class="n">id</span> <span class="n">INTEGER</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
    <span class="n">user_id</span> <span class="n">INTEGER</span><span class="p">,</span>
    <span class="n">email_address</span> <span class="n">VARCHAR</span> <span class="n">NOT</span> <span class="n">NULL</span><span class="p">,</span>
    <span class="n">PRIMARY</span> <span class="n">KEY</span> <span class="p">(</span><span class="n">id</span><span class="p">),</span>
    <span class="n">CONSTRAINT</span> <span class="n">user_id_fk</span> <span class="n">FOREIGN</span> <span class="n">KEY</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span> <span class="n">REFERENCES</span> <span class="n">users</span> <span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>“CONSTRAINT .. FOREIGN KEY”指令用于在“内联”方式内创建约束在CREATE TABLE定义中。 :meth:<a href="#id19"><span class="problematic" id="id20">`</span></a>_schema.MetaData.create_all`和 :meth:<a href="#id21"><span class="problematic" id="id22">`</span></a>_schema.MetaData.drop_all`方法将默认情况下在所有涉及:class:<a href="#id23"><span class="problematic" id="id24">`</span></a>_schema.Table`对象的拓扑排序中执行此操作，因此表将按照其外键依赖性的顺序创建和删除（此排序也可以通过 :attr:<a href="#id25"><span class="problematic" id="id26">`</span></a>_schema.MetaData.sorted_tables`访问器获得）。</p>
<p>当两个或多个外键约束涉及”依赖循环”的情况时，这种方法无法工作，其中一组表彼此相互依赖，假设后端执行外键的一致性（在SQLite，MySQL/MyISAM之外）。因此，这些方法将在除不支持大多数更改形式的SQLite之外的所有后端上，将这些约束断开为单独的ALTER语句。例如，对于类似这样的模式，我们将其称为：：</p>
<blockquote>
<div><dl class="simple">
<dt>node = Table(</dt><dd><p>“node”,
metadata_obj,
Column(“node_id”, Integer, primary_key=True),
Column(“primary_element”, Integer, ForeignKey(“element.element_id”)),</p>
</dd>
</dl>
<p>)</p>
<dl>
<dt>element = Table(</dt><dd><p>“element”,
metadata_obj,
Column(“element_id”, Integer, primary_key=True),
Column(“parent_node_id”, Integer),
ForeignKeyConstraint(</p>
<blockquote>
<div><p>[“parent_node_id”], [“node.node_id”], name=”fk_element_parent_node_id”</p>
</div></blockquote>
<p>),</p>
</dd>
</dl>
<p>)</p>
</div></blockquote>
<p>当我们在诸如 PostgreSQL 后端上调用 <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code></a> 时，这两个表之间的循环会被解决，约束将分别创建：：</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="go">...     metadata_obj.create_all(conn, checkfirst=False)</span>
<div class='show_sql'><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">element_id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">parent_node_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">element_id</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">node_id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">primary_element</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_element_parent_node_id</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="n">parent_node_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="n">primary_element</span><span class="p">)</span>
<span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="p">(</span><span class="n">element_id</span><span class="p">)</span>
</div></pre></div>
</div>
<p>在删除所有表时需要发出DROP命令，同样的逻辑适用，但是请注意，在SQL中，发出DROP CONSTRAINT需要指定约束的名称。在上面的例子中，我们尚未为“node”表指定此约束的名称。因此，系统将仅尝试发出命名约束的DROP：</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="go">...     metadata_obj.drop_all(conn, checkfirst=False)</span>
<div class='show_sql'><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_element_parent_node_id</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">node</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">element</span>
</div></pre></div>
</div>
<p>在循环无法解决的情况下，例如如果我们在这里没有给任何约束命名，我们将收到以下错误消息：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sqlalchemy.exc.CircularDependencyError: Can&#39;t sort tables for DROP;
an unresolvable foreign key dependency exists between tables:
element, node.  Please ensure that the ForeignKey and ForeignKeyConstraint
objects involved in the cycle have names so that they can be dropped
using DROP CONSTRAINT.</pre></div>
</div>
<p>此错误仅适用于DROP，因为我们可以在CREATE CASE中发出`ADD CONSTRAINT`，而不需要名称; 数据库通常会自动分配一个名称。</p>
<p>当在可查迁移工具中使用：func:<a href="#id27"><span class="problematic" id="id28">`</span></a>alembic &lt; <a class="reference external" href="https://alembic.sqlalchemy.org/">https://alembic.sqlalchemy.org/</a>&gt;`时，可通过模式迁移来处理现有表和约束; 但是，Alembic和SQLAlchemy当前未为没有指定名称的约束对象创建名称，这意味着要能够改变现有约束，我们必须反向工程用于自动分配名称到关系数据库的命名系统，或者必须注意确保所有约束都已命名。</p>
<p>与分配所有 <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a> 和 <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 对象的明确名称相比，可以使用事件构建自动命名方案。这种方法的优点是，约束将获得一致的命名方案，无需在整个代码中显式名称参数，而且约定在使用 <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a> 时可以用于通过 <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.unique" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.unique</span></code></a> 和 <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.index" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.index</span></code></a> 参数生成的所有约束和索引。从SQLAlchemy 0.9.2开始，此事件驱动的方法已经包含在内，并可以使用参数 <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a> 进行配置。</p>
<section id="id29">
<h3>为元数据集合配置命名约定<a class="headerlink" href="#id29" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a> 指的是一个接受 <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 类或单个 <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a> 类作为键，并接受Python字符串模板作为值的字典。它还接受多个字符串代码作为备用键， <code class="docutils literal notranslate"><span class="pre">fk</span></code> ， <code class="docutils literal notranslate"><span class="pre">pk</span></code> ， <code class="docutils literal notranslate"><span class="pre">ix</span></code> ， <code class="docutils literal notranslate"><span class="pre">ck</span></code> ， <code class="docutils literal notranslate"><span class="pre">uq</span></code> 用于外键、主键、索引、检查和唯一键约束，分别。在字典中使用的字符串模板用于在与此 <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> 对象关联的约束或索引未具有现有名称时使用。除了一个例外情况外，此名称可以由现有名称进一步修饰。</p>
<p>一个适用于基本情况的示例命名约定如下：</p>
<blockquote>
<div><dl class="simple">
<dt>convention = {</dt><dd><p>“ix”: “ix_%(column_0_label)s”,
“uq”: “uq_%(table_name)s_%(column_0_name)s”,
“ck”: “ck_%(table_name)s_%(constraint_name)s”,
“fk”: “fk_%(table_name)s_%(column_0_name)s_%(referred_table_name)s”,
“pk”: “pk_%(table_name)s”,</p>
</dd>
</dl>
<p>}</p>
<p>metadata_obj = MetaData(naming_convention=convention)</p>
</div></blockquote>
<p>上面的约定将为目标 <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> 集合中的所有约束都建立名称。例如，我们可以观察到创建未命名的 :class:<a href="#id30"><span class="problematic" id="id31">`</span></a>.UniqueConstraint`时生成的名称：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;user&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadata_obj</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">UniqueConstraint</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">constraints</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;uq_user_name&#39;</span></pre></div>
</div>
<p>当我们只使用 <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.unique" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.unique</span></code></a> 标志时，同样的特性也会出现：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;user&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadata_obj</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">constraints</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;uq_user_name&#39;</span></pre></div>
</div>
<p>命名约定方法的一个关键优点是，这些名称在Python构建时间而不是在DDL发出时间建立。在使用Alembic的“–自动生成”功能时，这对于生成新的迁移脚本意味着命名约定将变得明确：</p>
<blockquote>
<div><dl class="simple">
<dt>def upgrade():</dt><dd><p>op.create_unique_constraint(“uq_user_name”, “user”, [“name”])</p>
</dd>
</dl>
</div></blockquote>
<p>上面的 <code class="docutils literal notranslate"><span class="pre">&quot;uq_user_name&quot;</span></code> 字符串从我们在元数据中找到的 <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a> 对象中复制，这是``–autogenerate``生成新的迁移脚本时的效果。</p>
<p>可用的令牌包括 <code class="docutils literal notranslate"><span class="pre">%(table_name)s</span></code> ， <code class="docutils literal notranslate"><span class="pre">%(referred_table_name)s</span></code> ， <code class="docutils literal notranslate"><span class="pre">%(column_0_name)s</span></code> ， <code class="docutils literal notranslate"><span class="pre">%(column_0_label)s</span></code> ， <code class="docutils literal notranslate"><span class="pre">%(column_0_key)s</span></code> ， <code class="docutils literal notranslate"><span class="pre">%(referred_column_0_name)s``和</span> <span class="pre">``%(constraint_name)s</span></code> 以及每个的多列版本，包括 <code class="docutils literal notranslate"><span class="pre">%(column_0N_name)s</span></code> ， <code class="docutils literal notranslate"><span class="pre">%(column_0_N_name)s</span></code> ， <code class="docutils literal notranslate"><span class="pre">%(referred_column_0_N_name)s</span></code> ，其中所有列名以符号分隔或没有符号分隔的方式呈现。 <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a> 文档对每个约定的详细信息有更多细节。</p>
</section>
<section id="constraint-default-naming-convention">
<span id="id32"></span><h3>默认命名约定<a class="headerlink" href="#constraint-default-naming-convention" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a> 的默认值处理了长期以来SQLAlchemy的行为，即为使用 <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.index" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.index</span></code></a> 参数创建的 <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 对象分配名称：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.sql.schema</span> <span class="kn">import</span> <span class="n">DEFAULT_NAMING_CONVENTION</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DEFAULT_NAMING_CONVENTION</span>
<span class="go">immutabledict({&#39;ix&#39;: &#39;ix_%(column_0_label)s&#39;})</span></pre></div>
</div>
</section>
<section id="id33">
<h3>截断长名称<a class="headerlink" href="#id33" title="Permalink to this heading">¶</a></h3>
<p>当一个生成的名称，特别是使用多列令牌的名称，太长而无法符合目标数据库的标识符长度限制时（例如，PostgreSQL有一个限制为63个字符），名称将会被明确定义的后缀截断为源名称的md5哈希基础上的4个字符。例如，以下是将带有使用的列名创建时生成很长名称的约定：</p>
<blockquote>
<div><dl class="simple">
<dt>metadata_obj = MetaData(</dt><dd><p>naming_convention={“uq”: “uq_%(table_name)s_%(column_0_N_name)s”}</p>
</dd>
</dl>
<p>)</p>
<dl class="simple">
<dt>long_names = Table(</dt><dd><p>“long_names”,
metadata_obj,
Column(“information_channel_code”, Integer, key=”a”),
Column(“billing_convention_name”, Integer, key=”b”),
Column(“product_identifier”, Integer, key=”c”),
UniqueConstraint(“a”, “b”, “c”),</p>
</dd>
</dl>
<p>)</p>
</div></blockquote>
<p>在PostgreSQL方言上，长度超过63个字符的名称将被截断如下：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">long_names</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">information_channel_code</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">billing_convention_name</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">product_identifier</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">uq_long_names_information_channel_code_billing_conventi_a79e</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="n">information_channel_code</span><span class="p">,</span><span class="w"> </span><span class="n">billing_convention_name</span><span class="p">,</span><span class="w"> </span><span class="n">product_identifier</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>上面的后缀 <code class="docutils literal notranslate"><span class="pre">a79e</span></code> 基于长名称的md5哈希值，并且每次生成相同的值，以便为给定模式生成一致的名称。</p>
</section>
<section id="id34">
<h3>创建自定义的命名约定令牌<a class="headerlink" href="#id34" title="Permalink to this heading">¶</a></h3>
<p>可以添加新令牌，通过在命名_convention字典中指定额外的令牌和可调用对象。例如，如果我们想使用GUID方案命名外键约束，我们可以按以下方式执行：</p>
<blockquote>
<div><p>import uuid</p>
<dl>
<dt>def fk_guid(constraint, table):</dt><dd><dl>
<dt>str_tokens = (</dt><dd><dl class="simple">
<dt>[</dt><dd><p>table.name,</p>
</dd>
</dl>
<p>]
+ [element.parent.name for element in constraint.elements]
+ [element.target_fullname for element in constraint.elements]</p>
</dd>
</dl>
<p>)
guid = uuid.uuid5(uuid.NAMESPACE_OID, “_”.join(str_tokens).encode(“ascii”))
return str(guid)</p>
</dd>
<dt>convention = {</dt><dd><p>“fk_guid”: fk_guid,
“ix”: “ix_%(column_0_label)s”,
“fk”: “fk_%(table_name)s_%(column_0_name)s_%(referred_table_name)s”,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>以上，当我们创建一个新的 :class:<a href="#id35"><span class="problematic" id="id36">`</span></a>_schema.ForeignKeyConstraint`时，我们将为名称获得一个名称如下：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">naming_convention</span><span class="o">=</span><span class="n">convention</span><span class="p">)</span></pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;user&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadata_obj</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">)),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">address_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;address&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadata_obj</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;user_version_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk</span> <span class="o">=</span> <span class="n">ForeignKeyConstraint</span><span class="p">([</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="s2">&quot;user_version_id&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;user.id&quot;</span><span class="p">,</span> <span class="s2">&quot;user.version&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">address_table</span><span class="o">.</span><span class="n">append_constraint</span><span class="p">(</span><span class="n">fk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk</span><span class="o">.</span><span class="n">name</span>
<span class="go">fk_0cd51ab5-8d70-56e8-a83c-86661737766d</span></pre></div>
</div>
<p>参见：</p>
<blockquote>
<div><p><a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a> - 有关其他用法详细信息以及可用命名组件的参考手册。</p>
<p><a class="reference external" href="https://alembic.sqlalchemy.org/en/latest/naming.html">约束命名的重要性</a> - Alembic文档中。</p>
</div></blockquote>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.0: </span>添加了多列命名令牌，例如 <code class="docutils literal notranslate"><span class="pre">%(column_0_N_name)s</span></code>。生成的名称超出目标数据库的字符限制将被确定性地截断。</p>
</div>
</section>
<section id="check">
<span id="naming-check-constraints"></span><h3>命名CHECK约束<a class="headerlink" href="#check" title="Permalink to this heading">¶</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint`对象针对任意SQL表达式进行配置，它可以存在任意数量的列，并且通常使用原始SQL字符串进行配置。因此，与</span> <span class="pre">:class:</span></code>.CheckConstraint` 一起使用的常见约定是我们预期对象已经具有名称，然后我们使用其他约定元素增强该名称。一个典型的约定是 <code class="docutils literal notranslate"><span class="pre">&quot;ck_%(table_name)s_%(constraint_name)s&quot;</span></code>：</p>
<blockquote>
<div><dl class="simple">
<dt>metadata_obj = MetaData(</dt><dd><p>naming_convention={“ck”: “ck_%(table_name)s_%(constraint_name)s”}</p>
</dd>
</dl>
<p>)</p>
<dl class="simple">
<dt>Table(</dt><dd><p>“foo”,
metadata_obj,
Column(“value”, Integer),
CheckConstraint(“value &gt; 5”, name=”value_gt_5”),</p>
</dd>
</dl>
<p>)</p>
</div></blockquote>
<p>上面的表将生成名称``ck_foo_value_gt_5``：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">ck_foo_value_gt_5</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
</section>
</section>
<section id="checkconstraint-columns-0-name-s-schema-column-expression-column-constraints-indexes">
<h2><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint`还支持</span> <span class="pre">``%(columns_0_name)s`</span></code> 令牌；我们可以通过确保在约束的表达式中使用 <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> 或 <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.column" title="sqlalchemy.sql.expression.column"><code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code></a> 元素来利用它，无论是将约束声明与表分开还是将其定义在表中：：约束（Constraints）和索引（Indexes）<a class="headerlink" href="#checkconstraint-columns-0-name-s-schema-column-expression-column-constraints-indexes" title="Permalink to this heading">¶</a></h2>
<section id="id38">
<h3>配置约束名称<a class="headerlink" href="#id38" title="Permalink to this heading">¶</a></h3>
<p>可以使用 <code class="docutils literal notranslate"><span class="pre">naming_convention</span></code> 参数为约束设置一个命名规则。只要在命名规则中使用了可用的参数，即可使用这个功能。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>如果所使用的约束类型的名称参数已经明确指定，将不会应用使用的命名规则。</p>
</div>
<p>例如，以下代码：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span>
    <span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_name)s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;uq&quot;</span><span class="p">:</span> <span class="s2">&quot;uq_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_name)s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ix&quot;</span><span class="p">:</span> <span class="s2">&quot;ix_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_name)s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fk&quot;</span><span class="p">:</span> <span class="s2">&quot;fk_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_name)s</span><span class="s2">_</span><span class="si">%(referred_table_name)s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pk&quot;</span><span class="p">:</span> <span class="s2">&quot;pk_</span><span class="si">%(table_name)s</span><span class="s2">&quot;</span>
    <span class="p">}</span>
<span class="p">)</span></pre></div>
</div>
</section>
<section id="id39">
<h3>创建约束<a class="headerlink" href="#id39" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>命名约束</p></li>
</ul>
<p>我们可以使用约束名称创建约束。例如以下代码：</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="n">CheckConstraint</span><span class="p">(</span><span class="s2">&quot;value &gt; 5&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;myconstraint&quot;</span><span class="p">)</span></pre></div>
</div>
<p>生成的结果为：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">myconstraint</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<ul class="simple">
<li><p>匿名约束</p></li>
</ul>
<p>以下两种方式都可以使用匿名约束：</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>直接将表达式作为约束。</p></li>
</ol>
<p>例如以下代码：</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_name)s</span><span class="s2">&quot;</span><span class="p">})</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">metadata_obj</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">))</span>

<span class="n">CheckConstraint</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>生成的结果为：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">ck_foo_value</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>在表中定义约束并使用 <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.column" title="sqlalchemy.sql.expression.column"><code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code></a> 来表示这个约束中的值。</p></li>
</ol>
<p>例如以下代码：</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">column</span>

<span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_name)s</span><span class="s2">&quot;</span><span class="p">})</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
     <span class="n">metadata_obj</span><span class="p">,</span>
     <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
     <span class="n">CheckConstraint</span><span class="p">(</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>生成的结果同样为：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">ck_foo_value</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>Schema（模式）类型约束</p></li>
</ul>
<p><a class="reference internal" href="type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a> 指的是可以生成与该类型一起附带的 CHECK 约束的类型对象，例如 <a class="reference internal" href="type_basics.html#sqlalchemy.types.Boolean" title="sqlalchemy.types.Boolean"><code class="xref py py-class docutils literal notranslate"><span class="pre">Boolean</span></code></a> 和 <a class="reference internal" href="type_basics.html#sqlalchemy.types.Enum" title="sqlalchemy.types.Enum"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a>。此时约束的名称可以通过发送参数“name”来直接设置。例如：</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">metadata_obj</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;flag&quot;</span><span class="p">,</span> <span class="n">Boolean</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ck_foo_flag&quot;</span><span class="p">)))</span></pre></div>
</div>
<p>也可以将命名约束特性与这些类型结合使用，通常使用一个包含 <code class="docutils literal notranslate"><span class="pre">%(constraint_name)s</span></code> 的惯例，然后将一个名称应用于该类型。例如：</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span>
    <span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(constraint_name)s</span><span class="s2">&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">Table</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">metadata_obj</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;flag&quot;</span><span class="p">,</span> <span class="n">Boolean</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;flag_bool&quot;</span><span class="p">)))</span></pre></div>
</div>
<p>以上代码将会产生约束名为“ck_foo_flag_bool”的结果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">foo</span> <span class="p">(</span>
    <span class="n">flag</span> <span class="n">BOOL</span><span class="p">,</span>
    <span class="n">CONSTRAINT</span> <span class="n">ck_foo_flag_bool</span> <span class="n">CHECK</span> <span class="p">(</span><span class="n">flag</span> <span class="n">IN</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">)</span></pre></div>
</div>
<ul class="simple">
<li><p>约束 API</p></li>
</ul>
<p>可以使用以下类直接生成约束：</p>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><span class="sig-name descname">CheckConstraint</span></a></p></td>
<td><p>A table- or column-level CHECK constraint.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><span class="sig-name descname">ColumnCollectionConstraint</span></a></p></td>
<td><p>A constraint that proxies a ColumnCollection.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin"><span class="sig-name descname">ColumnCollectionMixin</span></a></p></td>
<td><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.Constraint"><span class="sig-name descname">Constraint</span></a></p></td>
<td><p>A table-level SQL constraint.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><span class="sig-name descname">ForeignKey</span></a></p></td>
<td><p>Defines a dependency between two columns.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><span class="sig-name descname">ForeignKeyConstraint</span></a></p></td>
<td><p>A table-level FOREIGN KEY constraint.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL"><span class="sig-name descname">HasConditionalDDL</span></a></p></td>
<td><p>define a class that includes the <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a>
method, allowing for conditional rendering of DDL.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><span class="sig-name descname">PrimaryKeyConstraint</span></a></p></td>
<td><p>A table-level PRIMARY KEY constraint.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><span class="sig-name descname">UniqueConstraint</span></a></p></td>
<td><p>A table-level UNIQUE constraint.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">Constraint</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level SQL constraint.</p>
<p><a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a> serves as the base class for the series of
constraint objects that can be associated with <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
objects, including <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a>,
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
<a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a>, and
<a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a>.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.Constraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint</span></code></a> (<a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>, <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.HasConditionalDDL</span></code></a>, <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.SchemaItem</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_create_rule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_type_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SQL constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.name">¶</a> – Optional, the in-database name of this <code class="docutils literal notranslate"><span class="pre">Constraint</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.deferrable">¶</a> – Optional bool.  If set, emit DEFERRABLE or NOT DEFERRABLE when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.initially">¶</a> – Optional string.  If set, emit INITIALLY &lt;value&gt; when issuing DDL
for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.info">¶</a> – Optional data dictionary which will be populated into the
<a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> attribute of this object.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.comment"></span><strong>comment</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.comment">¶</a> – <p>Optional string that will render an SQL comment on
foreign key constraint creation.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</div></blockquote>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.**dialect_kw">¶</a> – Additional keyword arguments are dialect
specific, and passed in the form <code class="docutils literal notranslate"><span class="pre">&lt;dialectname&gt;_&lt;argname&gt;</span></code>.  See
the documentation regarding an individual dialect at
<a class="reference internal" href="../dialects/index.html"><span class="std std-ref">方言</span></a> for detail on documented arguments.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params._create_rule"></span><strong>_create_rule</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params._create_rule">¶</a> – used internally by some datatypes that also create constraints.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params._type_bound"></span><strong>_type_bound</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params._type_bound">¶</a> – used internally to indicate that this constraint is associated with
a specific datatype.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.Constraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Constraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.Constraint.copy" title="sqlalchemy.schema.Constraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Constraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code></a> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <a class="reference internal" href="ddl.html#sqlalchemy.schema.CreateTable" title="sqlalchemy.schema.CreateTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code></a>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Constraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if.params.callable_" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">ColumnCollectionMixin</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects.</p>
<p>This collection represents the columns which are referred to by
this object.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">ColumnCollectionConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A constraint that proxies a ColumnCollection.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionMixin</span></code></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DDLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_autoattach</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_column_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_gather_expressions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">_DDLColumnArgument</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.*columns"></span><strong>*columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.*columns">¶</a> – A sequence of column names or Column objects.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.name">¶</a> – Optional, the in-database name of this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.deferrable">¶</a> – Optional bool.  If set, emit DEFERRABLE or NOT DEFERRABLE when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.initially">¶</a> – Optional string.  If set, emit INITIALLY &lt;value&gt; when issuing DDL
for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.**dialect_kw">¶</a> – other keyword arguments including
dialect-specific arguments are propagated to the <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
superclass.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.sql.schema.ColumnCollectionConstraint"><span class="pre">ColumnCollectionConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code></a> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <a class="reference internal" href="ddl.html#sqlalchemy.schema.CreateTable" title="sqlalchemy.schema.CreateTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code></a>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if.params.callable_" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">CheckConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table- or column-level CHECK constraint.</p>
<p>Can be included in the definition of a Table or Column.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sqltext</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_TextCoercedExpressionArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_create_rule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_autoattach</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_type_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a CHECK constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.sqltext"></span><strong>sqltext</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.sqltext">¶</a> – <p>A string containing the constraint definition, which will be used
verbatim, or a SQL expression construct.   If given as a string,
the object is converted to a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> object.
If the textual
string includes a colon character, escape this using a backslash:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CheckConstraint</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;foo ~ E&#39;a(?\:b|c)d&quot;</span><span class="p">)</span></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.params.sqltext" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">CheckConstraint.sqltext</span></code></a> argument to <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a> can be passed as a Python string argument, which will be treated as <strong>trusted SQL text</strong> and rendered as given.  <strong>DO NOT PASS UNTRUSTED INPUT TO THIS PARAMETER</strong>.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.name">¶</a> – Optional, the in-database name of the constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.deferrable">¶</a> – Optional bool.  If set, emit DEFERRABLE or NOT DEFERRABLE when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.initially">¶</a> – Optional string.  If set, emit INITIALLY &lt;value&gt; when issuing DDL
for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.info">¶</a> – Optional data dictionary which will be populated into the
<a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> attribute of this object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.sql.schema.CheckConstraint"><span class="pre">CheckConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.copy" title="sqlalchemy.schema.CheckConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CheckConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code></a> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <a class="reference internal" href="ddl.html#sqlalchemy.schema.CreateTable" title="sqlalchemy.schema.CreateTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code></a>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if.params.callable_" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">ForeignKey</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a dependency between two columns.</p>
<p><code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> is specified as an argument to a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
object,
e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;remote_table&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;remote_id&quot;</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;main_table.id&quot;</span><span class="p">))</span>
<span class="p">)</span></pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> is only a marker object that defines
a dependency between two columns.   The actual constraint
is in all cases represented by the <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
object.   This object will be generated automatically when
a <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> is associated with a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> which
in turn is associated with a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.   Conversely,
when <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> is applied to a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> markers are automatically generated to be
present on each associated <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>, which are also
associated with the constraint object.</p>
<p>Note that you cannot define a “composite” foreign key constraint,
that is a constraint between a grouping of multiple parent/child
columns, using <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> objects.   To define this grouping,
the <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> object must be used, and applied
to the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.   The associated <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> objects
are created automatically.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> objects associated with an individual
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
object are available in the <cite>foreign_keys</cite> collection
of that column.</p>
<p>Further examples of foreign key configuration are in
<a class="reference internal" href="#metadata-foreignkeys"><span class="std std-ref">定义外键</span></a>.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.column"><span class="sig-name descname">column</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.get_referent"><span class="sig-name descname">get_referent()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.kwargs"><span class="sig-name descname">kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.references"><span class="sig-name descname">references()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.target_fullname"><span class="sig-name descname">target_fullname</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey</span></code></a> (<a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>, <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.SchemaItem</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DDLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_constraint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><span class="pre">ForeignKeyConstraint</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_alter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onupdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ondelete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_to_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_unresolvable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a column-level FOREIGN KEY.</p>
<p>The <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> object when constructed generates a
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
which is associated with the parent
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object’s collection of constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.column"></span><strong>column</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.column">¶</a> – A single target column for the key relationship. A
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> object or a column name as a string:
<code class="docutils literal notranslate"><span class="pre">tablename.columnkey</span></code> or <code class="docutils literal notranslate"><span class="pre">schema.tablename.columnkey</span></code>.
<code class="docutils literal notranslate"><span class="pre">columnkey</span></code> is the <code class="docutils literal notranslate"><span class="pre">key</span></code> which has been assigned to the column
(defaults to the column name itself), unless <code class="docutils literal notranslate"><span class="pre">link_to_name</span></code> is
<code class="docutils literal notranslate"><span class="pre">True</span></code> in which case the rendered name of the column is used.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.name">¶</a> – Optional string. An in-database name for the key if
<cite>constraint</cite> is not provided.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.onupdate"></span><strong>onupdate</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.onupdate">¶</a> – Optional string. If set, emit ON UPDATE &lt;value&gt; when
issuing DDL for this constraint. Typical values include CASCADE,
DELETE and RESTRICT.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.ondelete"></span><strong>ondelete</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.ondelete">¶</a> – Optional string. If set, emit ON DELETE &lt;value&gt; when
issuing DDL for this constraint. Typical values include CASCADE,
DELETE and RESTRICT.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.deferrable">¶</a> – Optional bool. If set, emit DEFERRABLE or NOT
DEFERRABLE when issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.initially">¶</a> – Optional string. If set, emit INITIALLY &lt;value&gt; when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.link_to_name"></span><strong>link_to_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.link_to_name">¶</a> – if True, the string name given in <code class="docutils literal notranslate"><span class="pre">column</span></code> is
the rendered name of the referenced column, not its locally
assigned <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.use_alter"></span><strong>use_alter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.use_alter">¶</a> – <p>passed to the underlying
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
to indicate the constraint should
be generated/dropped externally from the CREATE TABLE/ DROP TABLE
statement.  See <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ForeignKeyConstraint.use_alter</span></code></a>
for further description.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ForeignKeyConstraint.use_alter</span></code></a></p>
<p><span class="xref std std-ref">use_alter</span></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.match"></span><strong>match</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.match">¶</a> – Optional string. If set, emit MATCH &lt;value&gt; when issuing
DDL for this constraint. Typical values include SIMPLE, PARTIAL
and FULL.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.info">¶</a> – Optional data dictionary which will be populated into the
<a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> attribute of this object.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.comment"></span><strong>comment</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.comment">¶</a> – <p>Optional string that will render an SQL comment on
foreign key constraint creation.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</div></blockquote>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.**dialect_kw">¶</a> – Additional keyword arguments are dialect
specific, and passed in the form <code class="docutils literal notranslate"><span class="pre">&lt;dialectname&gt;_&lt;argname&gt;</span></code>.  The
arguments are ultimately handled by a corresponding
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>.
See the documentation regarding
an individual dialect at <a class="reference internal" href="../dialects/index.html"><span class="std std-ref">方言</span></a> for detail on
documented arguments.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.column">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">column</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> referenced by this
<a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
<p>If no target column has been established, an exception
is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.sql.schema.ForeignKey"><span class="pre">ForeignKey</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.copy" title="sqlalchemy.schema.ForeignKey.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ForeignKey.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.get_referent">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">get_referent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><span class="pre">FromClause</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.get_referent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> in the given
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> (or any <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>)
referenced by this <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
<p>Returns None if this <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>
does not reference the given
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.references">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">references</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.references" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the given <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
is referenced by this
<a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.target_fullname">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">target_fullname</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.target_fullname" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string based ‘column specification’ for this
<a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
<p>This is usually the equivalent of the string-based “tablename.colname”
argument first passed to the object’s constructor.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">ForeignKeyConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level FOREIGN KEY constraint.</p>
<p>Defines a single column or composite FOREIGN KEY … REFERENCES
constraint. For a no-frills, single column foreign key, adding a
<a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> to the definition of a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
is a
shorthand equivalent for an unnamed, single column
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>.</p>
<p>Examples of foreign key configuration are in <a class="reference internal" href="#metadata-foreignkeys"><span class="std std-ref">定义外键</span></a>.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.column_keys"><span class="sig-name descname">column_keys</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.elements"><span class="sig-name descname">elements</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.kwargs"><span class="sig-name descname">kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.referred_table"><span class="sig-name descname">referred_table</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_typing_Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_DDLColumnArgument</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refcolumns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_typing_Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_DDLColumnArgument</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onupdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ondelete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_alter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_to_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a composite-capable FOREIGN KEY.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.columns"></span><strong>columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.columns">¶</a> – A sequence of local column names. The named columns
must be defined and present in the parent Table. The names should
match the <code class="docutils literal notranslate"><span class="pre">key</span></code> given to each column (defaults to the name) unless
<code class="docutils literal notranslate"><span class="pre">link_to_name</span></code> is True.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.refcolumns"></span><strong>refcolumns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.refcolumns">¶</a> – A sequence of foreign column names or Column
objects. The columns must all be located within the same Table.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.name">¶</a> – Optional, the in-database name of the key.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.onupdate"></span><strong>onupdate</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.onupdate">¶</a> – Optional string. If set, emit ON UPDATE &lt;value&gt; when
issuing DDL for this constraint. Typical values include CASCADE,
DELETE and RESTRICT.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.ondelete"></span><strong>ondelete</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.ondelete">¶</a> – Optional string. If set, emit ON DELETE &lt;value&gt; when
issuing DDL for this constraint. Typical values include CASCADE,
DELETE and RESTRICT.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.deferrable">¶</a> – Optional bool. If set, emit DEFERRABLE or NOT
DEFERRABLE when issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.initially">¶</a> – Optional string. If set, emit INITIALLY &lt;value&gt; when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.link_to_name"></span><strong>link_to_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.link_to_name">¶</a> – if True, the string name given in <code class="docutils literal notranslate"><span class="pre">column</span></code> is
the rendered name of the referenced column, not its locally assigned
<code class="docutils literal notranslate"><span class="pre">key</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.use_alter"></span><strong>use_alter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter">¶</a> – <p>If True, do not emit the DDL for this constraint as
part of the CREATE TABLE definition. Instead, generate it via an
ALTER TABLE statement issued after the full collection of tables
have been created, and drop it via an ALTER TABLE statement before
the full collection of tables are dropped.</p>
<p>The use of <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ForeignKeyConstraint.use_alter</span></code></a> is
particularly geared towards the case where two or more tables
are established within a mutually-dependent foreign key constraint
relationship; however, the <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code></a> and
<a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.drop_all" title="sqlalchemy.schema.MetaData.drop_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.drop_all()</span></code></a>
methods will perform this resolution
automatically, so the flag is normally not needed.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">use_alter</span></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.match"></span><strong>match</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.match">¶</a> – Optional string. If set, emit MATCH &lt;value&gt; when issuing
DDL for this constraint. Typical values include SIMPLE, PARTIAL
and FULL.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.info">¶</a> – Optional data dictionary which will be populated into the
<a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> attribute of this object.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.comment"></span><strong>comment</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.comment">¶</a> – <p>Optional string that will render an SQL comment on
foreign key constraint creation.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</div></blockquote>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.**dialect_kw">¶</a> – Additional keyword arguments are dialect
specific, and passed in the form <code class="docutils literal notranslate"><span class="pre">&lt;dialectname&gt;_&lt;argname&gt;</span></code>.  See
the documentation regarding an individual dialect at
<a class="reference internal" href="../dialects/index.html"><span class="std std-ref">方言</span></a> for detail on documented arguments.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.column_keys">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">column_keys</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.column_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of string keys representing the local
columns in this <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>.</p>
<p>This list is either the original string arguments sent
to the constructor of the <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>,
or if the constraint has been initialized with <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects, is the string <code class="docutils literal notranslate"><span class="pre">.key</span></code> of each element.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.sql.schema.ForeignKeyConstraint"><span class="pre">ForeignKeyConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.copy" title="sqlalchemy.schema.ForeignKeyConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ForeignKeyConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code></a> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <a class="reference internal" href="ddl.html#sqlalchemy.schema.CreateTable" title="sqlalchemy.schema.CreateTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code></a>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if.params.callable_" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.elements">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">elements</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><span class="pre">ForeignKey</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.elements" title="Permalink to this definition">¶</a></dt>
<dd><p>A sequence of <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> objects.</p>
<p>Each <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>
represents a single referring column/referred
column pair.</p>
<p>This collection is intended to be read-only.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.referred_table">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">referred_table</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.referred_table" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object to which this
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> references.</p>
<p>This is a dynamically calculated attribute which may not be available
if the constraint and/or parent table is not yet associated with
a metadata collection that contains the referred table.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.HasConditionalDDL">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">HasConditionalDDL</span></span><a class="headerlink" href="#sqlalchemy.schema.HasConditionalDDL" title="Permalink to this definition">¶</a></dt>
<dd><p>define a class that includes the <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a>
method, allowing for conditional rendering of DDL.</p>
<p>Currently applies to constraints and indexes.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if"><span class="sig-name descname">ddl_if()</span></a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.HasConditionalDDL.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.HasConditionalDDL.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code></a> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <a class="reference internal" href="ddl.html#sqlalchemy.schema.CreateTable" title="sqlalchemy.schema.CreateTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code></a>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.HasConditionalDDL.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.HasConditionalDDL.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if.params.callable_" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.HasConditionalDDL.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">PrimaryKeyConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level PRIMARY KEY constraint.</p>
<p>The <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> object is present automatically
on any <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object; it is assigned a set of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects corresponding to those marked with
the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.primary_key" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.primary_key</span></code></a> flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;version_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_table</span><span class="o">.</span><span class="n">primary_key</span>
<span class="go">PrimaryKeyConstraint(</span>
<span class="go">    Column(&#39;id&#39;, Integer(), table=&lt;mytable&gt;,</span>
<span class="go">           primary_key=True, nullable=False),</span>
<span class="go">    Column(&#39;version_id&#39;, Integer(), table=&lt;mytable&gt;,</span>
<span class="go">           primary_key=True, nullable=False)</span>
<span class="go">)</span></pre></div>
</div>
<p>The primary key of a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> can also be specified by using
a <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> object explicitly; in this mode of usage,
the “name” of the constraint can also be specified, as well as other
options which may be recognized by dialects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;version_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
            <span class="n">PrimaryKeyConstraint</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;version_id&#39;</span><span class="p">,</span>
                                 <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mytable_pk&#39;</span><span class="p">)</span>
        <span class="p">)</span></pre></div>
</div>
<p>The two styles of column-specification should generally not be mixed.
An warning is emitted if the columns present in the
<a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a>
don’t match the columns that were marked as <code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code>, if both
are present; in this case, the columns are taken strictly from the
<a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> declaration, and those columns otherwise
marked as <code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code> are ignored.  This behavior is intended to
be backwards compatible with previous behavior.</p>
<p>For the use case where specific options are to be specified on the
<a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a>, but the usual style of using
<code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code> flags is still desirable, an empty
<a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> may be specified, which will take on the
primary key column collection from the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> based on the
flags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;version_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
            <span class="n">PrimaryKeyConstraint</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;mytable_pk&#39;</span><span class="p">,</span>
                                 <span class="n">mssql_clustered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span></pre></div>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.sql.schema.ColumnCollectionConstraint"><span class="pre">ColumnCollectionConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code></a> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <a class="reference internal" href="ddl.html#sqlalchemy.schema.CreateTable" title="sqlalchemy.schema.CreateTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code></a>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if.params.callable_" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">UniqueConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level UNIQUE constraint.</p>
<p>Defines a single column or composite UNIQUE constraint. For a no-frills,
single column constraint, adding <code class="docutils literal notranslate"><span class="pre">unique=True</span></code> to the <code class="docutils literal notranslate"><span class="pre">Column</span></code>
definition is a shorthand equivalent for an unnamed, single column
UniqueConstraint.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DDLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_autoattach</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_column_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_gather_expressions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">_DDLColumnArgument</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.__init__</span></code> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.*columns"></span><strong>*columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.*columns">¶</a> – A sequence of column names or Column objects.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.name">¶</a> – Optional, the in-database name of this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.deferrable">¶</a> – Optional bool.  If set, emit DEFERRABLE or NOT DEFERRABLE when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.initially">¶</a> – Optional string.  If set, emit INITIALLY &lt;value&gt; when issuing DDL
for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.**dialect_kw">¶</a> – other keyword arguments including
dialect-specific arguments are propagated to the <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
superclass.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.sql.schema.ColumnCollectionConstraint"><span class="pre">ColumnCollectionConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code></a> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <a class="reference internal" href="ddl.html#sqlalchemy.schema.CreateTable" title="sqlalchemy.schema.CreateTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code></a>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if.params.callable_" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="indexes">
<h3>创建 Indexes<a class="headerlink" href="#indexes" title="Permalink to this heading">¶</a></h3>
<p>对于单个列使用默认名称为 <code class="docutils literal notranslate"><span class="pre">ix_&lt;column</span> <span class="pre">label&gt;</span></code> 的匿名索引可以使用类似如下代码：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Column</span><span class="p">(</span><span class="s2">&quot;some_column&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>或者您可以使用 <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 类来为索引分配更具描述性的名称。</p>
<p>下面我们使用 <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 为表设置多个索引：</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">mytable</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;mytable&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col4&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col5&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col6&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_col34&quot;</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col3</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col4</span><span class="p">)</span>
<span class="n">Index</span><span class="p">(</span><span class="s2">&quot;myindex&quot;</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col5</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col6</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>最后通过 mytable.create 命令生成 DDL 语句：</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="n">mytable</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span></pre></div>
</div>
<p>生成的结果为：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">col1</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">  </span><span class="n">col2</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">  </span><span class="n">col3</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">  </span><span class="n">col4</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">  </span><span class="n">col5</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">  </span><span class="n">col6</span><span class="w"> </span><span class="nb">INTEGER</span>
<span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_mytable_col1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col1</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_mytable_col2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col2</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">myindex</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col5</span><span class="p">,</span><span class="w"> </span><span class="n">col6</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_col34</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col3</span><span class="p">,</span><span class="w"> </span><span class="n">col4</span><span class="p">)</span></pre></div>
</div>
<ul>
<li><p>索引 API：</p>
<blockquote>
<div><dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">Index</span></span><a class="headerlink" href="#sqlalchemy.schema.Index" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level INDEX.</p>
<p>Defines a composite (one or more column) INDEX.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sometable</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;sometable&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;address&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
            <span class="p">)</span>

<span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<p>For a no-frills, single column index, adding
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> also supports <code class="docutils literal notranslate"><span class="pre">index=True</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sometable</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;sometable&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="p">)</span></pre></div>
</div>
<p>For a composite index, multiple columns can be specified:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">address</span><span class="p">)</span></pre></div>
</div>
<p>Functional indexes are supported as well, typically by using the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> construct in conjunction with table-bound
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">))</span></pre></div>
</div>
<p>An <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> can also be manually associated with a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>,
either through inline declaration or using
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table.append_constraint" title="sqlalchemy.schema.Table.append_constraint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.append_constraint()</span></code></a>.  When this approach is used,
the names
of the indexed columns can be specified as strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span><span class="s2">&quot;sometable&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;address&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span>
                <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;address&quot;</span><span class="p">)</span>
        <span class="p">)</span></pre></div>
</div>
<p>To support functional or expression-based indexes in this form, the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> construct may be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">text</span>

<span class="n">Table</span><span class="p">(</span><span class="s2">&quot;sometable&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;address&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span>
                <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">(</span><span class="s2">&quot;lower(name)&quot;</span><span class="p">))</span>
        <span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_indexes</span> - General information on <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>.</p>
<p><a class="reference internal" href="../dialects/postgresql.html#postgresql-indexes"><span class="std std-ref">PostgreSQL-Specific Index Options</span></a> - PostgreSQL-specific options available for
the <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct.</p>
<p><a class="reference internal" href="../dialects/mysql.html#mysql-indexes"><span class="std std-ref">MySQL / MariaDB- Specific Index Options</span></a> - MySQL-specific options available for the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct.</p>
<p><a class="reference internal" href="../dialects/mssql.html#mssql-indexes"><span class="std std-ref">Clustered Index Support</span></a> - MSSQL-specific options available for the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct.</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index</span></code></a> (<a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionMixin</span></code></a>, <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.HasConditionalDDL</span></code></a>, <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.SchemaItem</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">expressions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DDLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_column_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Index.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an index object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Index.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.name">¶</a> – The name of the index</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.*expressions"></span><strong>*expressions</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.*expressions">¶</a> – Column expressions to include in the index.   The expressions
are normally instances of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>, but may also
be arbitrary SQL expressions which ultimately refer to a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.unique"></span><strong>unique=False</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.unique">¶</a> – Keyword only argument; if True, create a unique index.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.quote"></span><strong>quote=None</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.quote">¶</a> – Keyword only argument; whether to apply quoting to the name of
the index.  Works in the same manner as that of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.quote" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.quote</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.info"></span><strong>info=None</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.info">¶</a> – Optional data dictionary which will be populated
into the <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> attribute of this object.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.**dialect_kw">¶</a> – Additional keyword arguments not mentioned above
are dialect specific, and passed in the form
<code class="docutils literal notranslate"><span class="pre">&lt;dialectname&gt;_&lt;argname&gt;</span></code>. See the documentation regarding an
individual dialect at <a class="reference internal" href="../dialects/index.html"><span class="std std-ref">方言</span></a> for detail on
documented arguments.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.Index.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Index.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.create">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CreateDropBind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkfirst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Index.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a <code class="docutils literal notranslate"><span class="pre">CREATE</span></code> statement for this
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>, using the given
<code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Engine`</span></code> for connectivity.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.create_all" title="sqlalchemy.schema.MetaData.create_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Index.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code></a> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <a class="reference internal" href="ddl.html#sqlalchemy.schema.CreateTable" title="sqlalchemy.schema.CreateTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code></a>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Index.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<a class="reference internal" href="ddl.html#sqlalchemy.schema.ExecutableDDLElement.execute_if.params.callable_" title="sqlalchemy.schema.ExecutableDDLElement.execute_if"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.Index.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.Index.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.drop">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CreateDropBind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkfirst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Index.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a <code class="docutils literal notranslate"><span class="pre">DROP</span></code> statement for this
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>, using the given
<code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code> for connectivity.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.drop_all" title="sqlalchemy.schema.MetaData.drop_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.drop_all()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.Index.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem.info" title="sqlalchemy.schema.SchemaItem.info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code></a> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.Index.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
</li>
</ul>
</section>
<section id="id40">
<h3>功能性索引<a class="headerlink" href="#id40" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 支持 SQL 和函数表达式，支持目标后端支持的函数表达式。例如，可以使用 <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement.desc" title="sqlalchemy.sql.expression.ColumnElement.desc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnElement.desc()</span></code></a> 修改符号来使用下降值对列进行索引：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">Index</span>

<span class="n">Index</span><span class="p">(</span><span class="s2">&quot;someindex&quot;</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">somecol</span><span class="o">.</span><span class="n">desc</span><span class="p">())</span></pre></div>
</div>
<p>或在支持功能性索引的后端（如 PostgreSQL）中，可以使用 <code class="docutils literal notranslate"><span class="pre">lower()</span></code> 函数创建不区分大小写的索引：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">func</span><span class="p">,</span> <span class="n">Index</span>

<span class="n">Index</span><span class="p">(</span><span class="s2">&quot;someindex&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">somecol</span><span class="p">))</span></pre></div>
</div>
</section>
</section>
</section>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="defaults.html" title="previous chapter">列的INSERT/UPDATE默认值</a>
        Next:
        <a href="ddl.html" title="next chapter">自定义DDL</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2023, the SQLAlchemy authors and contributors.


    <p><b>flambé!</b> the dragon and <b><i>The Alchemist</i></b> image designs created and generously donated by <a href="https://github.com/vmalloc">Rotem Yaari</a>.</p>

        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 7.0.1.

    Documentation last generated: 2023/8/18 9:30:57

    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '2.0.19',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script type="text/javascript" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
        <script type="text/javascript" src="../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


