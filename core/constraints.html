<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>
            
    
    定义约束和索引
 &mdash;
    SQLAlchemy 2.0 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/default.css" type="text/css" />
                <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 2.0 Documentation" href="../index.html" />
        <link rel="up" title="模式定义语言 (Schema Definition Language)" href="schema.html" />
        <link rel="next" title="自定义 DDL" href="ddl.html" />
        <link rel="prev" title="列INSERT/UPDATE默认值" href="defaults.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">2.0.19</span>


        | Release Date: July 15, 2023

    </div>

    <h1><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">



        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../index.html">Home</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="SQLAlchemy 核心">SQLAlchemy 核心</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="expression_api.html">SQL语句和表达式API</a></span></li>
<li><span class="link-container"><a class="reference external" href="schema.html">模式定义语言 (Schema Definition Language)</a></span><ul>
<li><span class="link-container"><a class="reference external" href="metadata.html">使用MetaData描述数据库</a></span></li>
<li><span class="link-container"><a class="reference external" href="reflection.html">从数据库反射对象</a></span></li>
<li><span class="link-container"><a class="reference external" href="defaults.html">列INSERT/UPDATE默认值</a></span></li>
<li class="selected"><span class="link-container"><strong>定义约束和索引</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#metadata-foreignkeys">定义外键</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#alter">通过ALTER创建/删除外键约束</a></span></li>
<li><span class="link-container"><a class="reference external" href="#on-updateon-delete">ON UPDATE和ON DELETE</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#schema-unique-constraint">唯一约束</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id4">检查约束</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id5">主键约束</a></span></li>
<li><span class="link-container"><a class="reference external" href="#declarative-orm">使用Declarative ORM扩展时设置约束</a></span></li>
<li><span class="link-container"><a class="reference external" href="#constraint-naming-conventions">配置约束命名约定</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#constraint-default-naming-convention">默认命名约定</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id16">长名称的截断</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id17">为命名约定创建自定义标记</a></span></li>
<li><span class="link-container"><a class="reference external" href="#naming-check-constraints">命名检查约束</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#check-naming">配置 Check 约束和 Naming</a></span></li>
<li><span class="link-container"><a class="reference external" href="#naming-schematypes">配置布尔值、枚举值和其他模式类型的命名</a></span></li>
<li><span class="link-container"><a class="reference external" href="#api">约束 API</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">Constraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.__init__"><code class="docutils literal notranslate"><span class="pre">Constraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.argument_for"><code class="docutils literal notranslate"><span class="pre">Constraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.copy"><code class="docutils literal notranslate"><span class="pre">Constraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">Constraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">Constraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">Constraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.info"><code class="docutils literal notranslate"><span class="pre">Constraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Constraint.kwargs"><code class="docutils literal notranslate"><span class="pre">Constraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionMixin"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.columns"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.info"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ColumnCollectionConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.columns"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.copy"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.info"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.CheckConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.__init__"><code class="docutils literal notranslate"><span class="pre">ForeignKey.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.argument_for"><code class="docutils literal notranslate"><span class="pre">ForeignKey.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.column"><code class="docutils literal notranslate"><span class="pre">ForeignKey.column</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.copy"><code class="docutils literal notranslate"><span class="pre">ForeignKey.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKey.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.dialect_options"><code class="docutils literal notranslate"><span class="pre">ForeignKey.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.get_referent"><code class="docutils literal notranslate"><span class="pre">ForeignKey.get_referent()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.info"><code class="docutils literal notranslate"><span class="pre">ForeignKey.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKey.kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.references"><code class="docutils literal notranslate"><span class="pre">ForeignKey.references()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKey.target_fullname"><code class="docutils literal notranslate"><span class="pre">ForeignKey.target_fullname</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.column_keys"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.column_keys</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.columns"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.copy"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.elements"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.elements</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.info"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.ForeignKeyConstraint.referred_table"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.referred_table</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.HasConditionalDDL"><code class="docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.columns"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.copy"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.info"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.PrimaryKeyConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.columns"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.columns</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.contains_column()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.copy"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.copy()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.info"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.UniqueConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.kwargs</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.conv"><code class="docutils literal notranslate"><span class="pre">conv()</span></code></a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="#schema-indexes">索引</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id23">函数式索引</a></span></li>
<li><span class="link-container"><a class="reference external" href="#id24">索引 API</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">Index</span></code></a></span><ul>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.__init__"><code class="docutils literal notranslate"><span class="pre">Index.__init__()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.argument_for"><code class="docutils literal notranslate"><span class="pre">Index.argument_for()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.create"><code class="docutils literal notranslate"><span class="pre">Index.create()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.ddl_if"><code class="docutils literal notranslate"><span class="pre">Index.ddl_if()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">Index.dialect_kwargs</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.dialect_options"><code class="docutils literal notranslate"><span class="pre">Index.dialect_options</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.drop"><code class="docutils literal notranslate"><span class="pre">Index.drop()</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.info"><code class="docutils literal notranslate"><span class="pre">Index.info</span></code></a></span></li>
<li><span class="link-container"><a class="reference external" href="#sqlalchemy.schema.Index.kwargs"><code class="docutils literal notranslate"><span class="pre">Index.kwargs</span></code></a></span></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="ddl.html">自定义 DDL</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="types.html">SQL 数据类型对象</a></span></li>
<li><span class="link-container"><a class="reference external" href="engines_connections.html">引擎与连接使用</a></span></li>
<li><span class="link-container"><a class="reference external" href="api_basics.html">Core API基础知识</a></span></li>
</ul>



        </div>

        </div>

    </div>

    <div id="narrow-index-nav">
        <form class="search" action="../search.html" method="get">
            <label>
                Search terms:
            <input type="text" placeholder="search..." name="q" size="12" />
            </label>
            <input type="submit" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>

        <p>
        <a href="../index.html">Home</a>
        </p>

    </div>


        <div id="docs-narrow-top-navigation">
            <ul>
                <li><b>Previous:</b>
                <a href="defaults.html" title="previous chapter">列INSERT/UPDATE默认值</a></li>
                <li><b>Next:</b>
                <a href="ddl.html" title="next chapter">自定义 DDL</a></li>

            <li><b>Up:</b> <a href="../index.html">Home</a></li>
                    <ul><li><a href="index.html" title="SQLAlchemy 核心">SQLAlchemy 核心</a></li>
                    <ul><li><a href="schema.html" title="模式定义语言 (Schema Definition Language)">模式定义语言 (Schema Definition Language)</a></li>
                </ul>
                </ul>



            <li><b>On this page:</b></li>
            <ul>
<li><a class="reference internal" href="#metadata-constraints">定义约束和索引</a><ul>
<li><a class="reference internal" href="#metadata-foreignkeys">定义外键</a><ul>
<li><a class="reference internal" href="#alter">通过ALTER创建/删除外键约束</a></li>
<li><a class="reference internal" href="#on-updateon-delete">ON UPDATE和ON DELETE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#schema-unique-constraint">唯一约束</a></li>
<li><a class="reference internal" href="#id4">检查约束</a></li>
<li><a class="reference internal" href="#id5">主键约束</a></li>
<li><a class="reference internal" href="#declarative-orm">使用Declarative ORM扩展时设置约束</a></li>
<li><a class="reference internal" href="#constraint-naming-conventions">配置约束命名约定</a><ul>
<li><a class="reference internal" href="#constraint-default-naming-convention">默认命名约定</a></li>
<li><a class="reference internal" href="#id16">长名称的截断</a></li>
<li><a class="reference internal" href="#id17">为命名约定创建自定义标记</a></li>
<li><a class="reference internal" href="#naming-check-constraints">命名检查约束</a></li>
</ul>
</li>
<li><a class="reference internal" href="#check-naming">配置 Check 约束和 Naming</a></li>
<li><a class="reference internal" href="#naming-schematypes">配置布尔值、枚举值和其他模式类型的命名</a></li>
<li><a class="reference internal" href="#api">约束 API</a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">Constraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.__init__"><code class="docutils literal notranslate"><span class="pre">Constraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.argument_for"><code class="docutils literal notranslate"><span class="pre">Constraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.copy"><code class="docutils literal notranslate"><span class="pre">Constraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">Constraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">Constraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">Constraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.info"><code class="docutils literal notranslate"><span class="pre">Constraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Constraint.kwargs"><code class="docutils literal notranslate"><span class="pre">Constraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.columns"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.info"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.columns"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.copy"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.info"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">CheckConstraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.__init__"><code class="docutils literal notranslate"><span class="pre">ForeignKey.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for"><code class="docutils literal notranslate"><span class="pre">ForeignKey.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.column"><code class="docutils literal notranslate"><span class="pre">ForeignKey.column</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.copy"><code class="docutils literal notranslate"><span class="pre">ForeignKey.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKey.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.dialect_options"><code class="docutils literal notranslate"><span class="pre">ForeignKey.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.get_referent"><code class="docutils literal notranslate"><span class="pre">ForeignKey.get_referent()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.info"><code class="docutils literal notranslate"><span class="pre">ForeignKey.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKey.kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.references"><code class="docutils literal notranslate"><span class="pre">ForeignKey.references()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.target_fullname"><code class="docutils literal notranslate"><span class="pre">ForeignKey.target_fullname</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.column_keys"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.column_keys</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.columns"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.copy"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.elements"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.elements</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.info"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.referred_table"><code class="docutils literal notranslate"><span class="pre">ForeignKeyConstraint.referred_table</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL"><code class="docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.columns"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.copy"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.info"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">PrimaryKeyConstraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.__init__"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.columns"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.contains_column"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.contains_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.copy"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.copy()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.dialect_options"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.info"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.kwargs"><code class="docutils literal notranslate"><span class="pre">UniqueConstraint.kwargs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlalchemy.schema.conv"><code class="docutils literal notranslate"><span class="pre">conv()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#schema-indexes">索引</a></li>
<li><a class="reference internal" href="#id23">函数式索引</a></li>
<li><a class="reference internal" href="#id24">索引 API</a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">Index</span></code></a><ul>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.__init__"><code class="docutils literal notranslate"><span class="pre">Index.__init__()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.argument_for"><code class="docutils literal notranslate"><span class="pre">Index.argument_for()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.create"><code class="docutils literal notranslate"><span class="pre">Index.create()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.ddl_if"><code class="docutils literal notranslate"><span class="pre">Index.ddl_if()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.dialect_kwargs"><code class="docutils literal notranslate"><span class="pre">Index.dialect_kwargs</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.dialect_options"><code class="docutils literal notranslate"><span class="pre">Index.dialect_options</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.drop"><code class="docutils literal notranslate"><span class="pre">Index.drop()</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.info"><code class="docutils literal notranslate"><span class="pre">Index.info</span></code></a></li>
<li><a class="reference internal" href="#sqlalchemy.schema.Index.kwargs"><code class="docutils literal notranslate"><span class="pre">Index.kwargs</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>


            </ul>

        </div>



    <div id="docs-body" role="main" class="withsidebar core-constraints" >
        
<section id="metadata-constraints">
<span id="metadata-constraints-toplevel"></span><span id="id1"></span><h1>定义约束和索引<a class="headerlink" href="#metadata-constraints" title="Permalink to this heading">¶</a></h1>
<p>本节将介绍SQL  <span class="xref std std-term">constraints</span>  和索引。在SQLAlchemy中，关键类包括  :class:` _schema.ForeignKeyConstraint` .Index`。</p>
<section id="metadata-foreignkeys">
<span id="id2"></span><h2>定义外键<a class="headerlink" href="#metadata-foreignkeys" title="Permalink to this heading">¶</a></h2>
<p>在SQL中，<em>foreign key</em> 是一个表级构造，它约束该表中的一个或多个列，只允许存在于不同列集中的值（通常但不总是位于不同的表中）。我们称被约束的列为*foreign key*列，被约束至的列称为*referenced*列。被约束列通常定义为其拥有表（但有例外情况）的主键，外键是连接有关联的成对行的“联合”，SQLAlchemy赋予这个概念在其操作的几乎每个领域中非常重要的地位。</p>
<p>在SQLAlchemy中，以及在DDL中，外键约束可以被定义为表子句中的附加属性，对于单列外键，它们可以在单列的定义中指定。单列外键更常见，在列级别上，是通过构造  <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> ~sqlalchemy.schema.Column` 对象的参数来指定的:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_preference</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;user_preference&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;pref_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;user.user_id&quot;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;pref_name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">40</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;pref_value&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span>
<span class="p">)</span></pre></div>
</div>
<p>以上，我们定义了一个名为``user_preference``的新表。该表的每一行都必须包含一个与``user``表的``user_id``的列值相对应的值。</p>
<blockquote>
<div><p><a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> ~sqlalchemy.schema.Column` 对象，我们将在稍后看到，它可以通过其``c``集合从现有的 <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> 对象中访问:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span></pre></div>
</div>
</div></blockquote>
<p>使用字符串的优点是当第一次需要时才会解决``user``和``user_preference``之间在Python中的链接，因此表对象可以轻松地分布在多个模块中，并且可以以任何顺序定义。</p>
<p>使用  <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> ` invoice``:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">invoice</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;invoice&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;invoice_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;ref_num&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">60</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
<p>然后，定义一个具有复合外键的表``invoice_item``，该复合外键引用``invoice``:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">invoice_item</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;invoice_item&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;item_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;item_name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">60</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;invoice_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;ref_num&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">ForeignKeyConstraint</span><span class="p">(</span>
        <span class="p">[</span><span class="s2">&quot;invoice_id&quot;</span><span class="p">,</span> <span class="s2">&quot;ref_num&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;invoice.invoice_id&quot;</span><span class="p">,</span> <span class="s2">&quot;invoice.ref_num&quot;</span><span class="p">]</span>
    <span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
<p>需要注意的是  <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> ` invoice_item.invoice_id``和``invoice_item.ref_num``列上存储单独的 <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> 对象，但SQLAlchemy将不知道这两个值应该配对在一起，而不是两个单独的外键，而是一个包含两个列引用的复合外键。</p>
<section id="alter">
<span id="use-alter"></span><h3>通过ALTER创建/删除外键约束<a class="headerlink" href="#alter" title="Permalink to this heading">¶</a></h3>
<p>在DDL中使用外键的行为通常意味着将约束“内联”在CREATE TABLE语句中，例如：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">user_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">email_address</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">user_id_fk</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>使用“CONSTRAINT..FOREIGN KEY”指令在创建表定义中“内联”创建约束。 :meth：<cite>_schema.MetaData.create_all`和  :meth:`_schema.MetaData.drop_all</cite>  方法默认使用它，使用所有涉及:class :` _schema.Table`对象的拓扑排序，使得表按其外键依赖性的顺序进行创建和删除（此排序也可通过  <code class="xref py py-attr docutils literal notranslate"><span class="pre">MetaData.sorted_tables</span></code>  访问器获得）。</p>
<p>这种方法在两个或多个外键约束涉及“依赖关系周期”的情况下不起作用，其中一组表相互依赖，假设后端强制执行外键（SQLite、MySQL/MyISAM除外）。因此，这两种方法将在所有未支持大部分ALTER的后端上将循环中的约束分离成单独的ALTER语句。给定类似于下面的模式：</p>
<blockquote>
<div><blockquote>
<div><dl class="simple">
<dt>node = Table(</dt><dd><p>“node”,
metadata_obj,
Column(“node_id”, Integer, primary_key=True),
Column(“primary_element”, Integer, ForeignKey(“element.element_id”)),</p>
</dd>
</dl>
</div></blockquote>
<p>)</p>
<dl>
<dt>element = Table(</dt><dd><p>“element”,
metadata_obj,
Column(“element_id”, Integer, primary_key=True),
Column(“parent_node_id”, Integer),
ForeignKeyConstraint(</p>
<blockquote>
<div><p>[“parent_node_id”], [“node.node_id”], name=”fk_element_parent_node_id”</p>
</div></blockquote>
<p>),</p>
</dd>
</dl>
<p>)</p>
</div></blockquote>
<p>在PostgreSQL后端中调用  <code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code>  时，这两个表之间的循环将被解决，并且约束将分别被创建：</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="go">...     metadata_obj.create_all(conn, checkfirst=False)</span>
<div class='show_sql'><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">element_id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">parent_node_id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">element_id</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">node_id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">primary_element</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_element_parent_node_id</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="n">parent_node_id</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="n">primary_element</span><span class="p">)</span>
<span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="p">(</span><span class="n">element_id</span><span class="p">)</span>
</div></pre></div>
</div>
<p>在发出DROP的情况下，相同的逻辑也适用，不过请注意，在SQL中，发出DROP CONSTRAINT需要约束有一个名称。在上面的“node”表的情况下，我们没有为这个约束命名；因此，系统将仅尝试发出DROP名称约束时才存在的约束：</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="go">...     metadata_obj.drop_all(conn, checkfirst=False)</span>
<div class='show_sql'><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">fk_element_parent_node_id</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">node</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">element</span>
</div></pre></div>
</div>
<p>如果循环无法解析，例如我们在这里没有应用名称到任何一个约束时，我们会收到以下错误：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sqlalchemy.exc.CircularDependencyError: Can&#39;t sort tables for DROP;
an unresolvable foreign key dependency exists between tables:
element, node.  Please ensure that the ForeignKey and ForeignKeyConstraint
objects involved in the cycle have names so that they can be dropped
using DROP CONSTRAINT.</pre></div>
</div>
<p>这个错误仅适用于DROP案例，因为我们可以在CREATE案例中发出“ADD CONSTRAINT”而不需要名称；数据库通常会自动赋一个名称。</p>
<p>当使用DROP操作时，  <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ForeignKeyConstraint.use_alter</span></code></a>  和  :paramref:` _schema.ForeignKey.use_alter`  关键字参数可以用于手动解决依赖关系循环。我们可以将此标志仅添加到“element”表中，如下所示：</p>
<blockquote>
<div><dl>
<dt>element = Table(</dt><dd><p>“element”,
metadata_obj,
Column(“element_id”, Integer, primary_key=True),
Column(“parent_node_id”, Integer),
ForeignKeyConstraint(</p>
<blockquote>
<div><p>[“parent_node_id”],
[“node.node_id”],
use_alter=True,
name=”fk_element_parent_node_id”,</p>
</div></blockquote>
<p>),</p>
</dd>
</dl>
<p>)</p>
</div></blockquote>
<p>在我们的CREATE DDL中，我们只会看到此约束的ALTER语句，而不是其他约束：</p>
<div class="highlight-pycon+sql notranslate"><div class="highlight"><pre><span></span><span class="go">  &gt;&gt;&gt; with engine.connect() as conn:</span>
<span class="go">  ...     metadata_obj.create_all(conn, checkfirst=False)</span>
<span class="go">  {execsql}CREATE TABLE element (</span>
<span class="go">      element_id SERIAL NOT NULL,</span>
<span class="go">      parent_node_id INTEGER,</span>
<span class="go">      PRIMARY KEY (element_id)</span>
<span class="go">  )</span>

<span class="go">  CREATE TABLE node (</span>
<span class="go">      node_id SERIAL NOT NULL,</span>
<span class="go">      primary_element INTEGER,</span>
<span class="go">      PRIMARY KEY (node_id),</span>
<span class="go">      FOREIGN KEY(primary_element) REFERENCES element (element_id)</span>
<span class="go">  )</span>

<span class="go">  ALTER TABLE element ADD CONSTRAINT fk_element_parent_node_id</span>
<span class="go">  FOREIGN KEY(parent_node_id) REFERENCES node (node_id)</span>
<span class="go">  {stop}</span>

<span class="go">:paramref:`_schema.ForeignKeyConstraint.use_alter`  和  :paramref:` _schema.ForeignKey.use_alter`  与drop操作一起使用时，将要求约束有一个名称，否则会生成以下错误：</span></pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sqlalchemy.exc.CompileError: Can&#39;t emit DROP CONSTRAINT for constraint
ForeignKeyConstraint(...); it has no name</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">约束命名约定</span></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_tables_and_constraints()</span></code></p>
</div>
</section>
<section id="on-updateon-delete">
<span id="on-update-on-delete"></span><h3>ON UPDATE和ON DELETE<a class="headerlink" href="#on-updateon-delete" title="Permalink to this heading">¶</a></h3>
<p>大多数数据库支持外键值的*级联*，这意味着当父行被更新时，新值将放置在子行中，或者当父行被删除时，所有对应的子行都将设置为null或删除。在数据定义语言中，可以在外键约束中使用短语，例如“ON UPDATE CASCADE”，“ON DELETE CASCADE”和“ON DELETE SET NULL”，与外键约束相对应。在  <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> ~sqlalchemy.schema.ForeignKeyConstraint` 对象中可以通过``onupdate``和``ondelete``关键字参数生成此子句。该值是任何字符串，该字符串将在适当的“ON UPDATE”或“ON DELETE”短语后输出:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">child</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;child&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span>
        <span class="s2">&quot;id&quot;</span><span class="p">,</span>
        <span class="n">Integer</span><span class="p">,</span>
        <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;parent.id&quot;</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">),</span>
        <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="n">composite</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;composite&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;rev_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;note_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">ForeignKeyConstraint</span><span class="p">(</span>
        <span class="p">[</span><span class="s2">&quot;rev_id&quot;</span><span class="p">,</span> <span class="s2">&quot;note_id&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;revisions.id&quot;</span><span class="p">,</span> <span class="s2">&quot;revisions.note_id&quot;</span><span class="p">],</span>
        <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">,</span>
        <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;SET NULL&quot;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
<p>请注意，这些子句需要在使用MySQL时使用``InnoDB``表。它们也可能在其他数据库上不受支持。</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>关于ORM  <code class="xref py py-func docutils literal notranslate"><span class="pre">relationship()</span></code> 结构与“ON DELETE CASCADE”的集成的背景，请参见以下部分：</p>
<blockquote>
<div><p><a class="reference internal" href="../orm/cascades.html#passive-deletes"><span class="std std-ref">在 ORM 关系中使用 FOREIGN KEY ON DELETE 级联</span></a></p>
<p><a class="reference internal" href="../orm/cascades.html#passive-deletes-many-to-many"><span class="std std-ref">关于基于 foreign key 的 ON DELETE 和多对多关系</span></a></p>
</div></blockquote>
</div>
</section>
</section>
<section id="schema-unique-constraint">
<span id="id3"></span><h2>唯一约束<a class="headerlink" href="#schema-unique-constraint" title="Permalink to this heading">¶</a></h2>
<p>可以使用  <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> ~sqlalchemy.schema.UniqueConstraint` 表级结构显式命名唯一约束和/或具有多列的约束。</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">UniqueConstraint</span>

<span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">mytable</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;mytable&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="c1"># Per-column anonymous unique constraint.</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="c1"># Explicit/composite unique constraint.  &#39;name&#39; is optional.</span>
    <span class="n">UniqueConstraint</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;uix_1&quot;</span><span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
</section>
<section id="id4">
<h2>检查约束<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<p>检查约束可以命名或未命名，并且可以在列或表级别上创建，使用 <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a> 结构。检查约束的文本直接通过到数据库，因此有限制的“数据库无关”行为。列级别的检查约束通常只能引用其所放置的列，而表级别约束可以引用表中的任何列。</p>
<p>请注意，某些数据库不支持主动支持约束，例如旧版的MySQL（8.0.16之前）。</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">CheckConstraint</span>

<span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">mytable</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;mytable&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="c1"># per-column CHECK constraint</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">CheckConstraint</span><span class="p">(</span><span class="s2">&quot;col1&gt;5&quot;</span><span class="p">)),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="c1"># table level CHECK constraint.  &#39;name&#39; is optional.</span>
    <span class="n">CheckConstraint</span><span class="p">(</span><span class="s2">&quot;col2 &gt; col3 + 5&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;check1&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">mytable</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
<div class='show_sql'><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">col1</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w">  </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">col1</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="n">col2</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">col3</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">check1</span><span class="w">  </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">col2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">col3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="p">)</span>
</div></pre></div>
</div>
</section>
<section id="id5">
<h2>主键约束<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<p>任何  <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>  标志。  :class:` .PrimaryKeyConstraint`对象提供了对此约束的显式访问，其中包括直接进行配置的选项:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">PrimaryKeyConstraint</span>

<span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;mytable&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;version_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
    <span class="n">PrimaryKeyConstraint</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;version_id&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;mytable_pk&quot;</span><span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a>  - 详细API文档。</p>
</div>
</section>
<section id="declarative-orm">
<h2>使用Declarative ORM扩展时设置约束<a class="headerlink" href="#declarative-orm" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> 是SQLAlchemy Core构造，它允许定义表元数据，其中包括可以由SQLAlchemy ORM用作映射类的目标。  <a class="reference internal" href="../orm/extensions/declarative/index.html"><span class="std std-ref">Declarative</span></a> 扩展程序允许自动创建 <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> 对象，根据主要是 <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> 对象的映射内容。</p>
</div></blockquote>
<p>要将表级别约束对象例如  <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> ` __table_args__``属性，如 <a class="reference internal" href="../orm/extensions/declarative/table_config.html#declarative-table-args"><span class="std std-ref">表格配置</span></a> 中所述。</p>
</section>
<section id="constraint-naming-conventions">
<span id="id6"></span><h2>配置约束命名约定<a class="headerlink" href="#constraint-naming-conventions" title="Permalink to this heading">¶</a></h2>
<p>关系数据库通常对所有约束和索引分配显式名称。在使用``CREATE TABLE``创建表的常见情况下，例如CHECK，UNIQUE和主键约束内联在表定义中生成，如果没有另外指定名称，则数据库通常会有一个系统以自动分配名称的方式。在使用诸如``ALTER TABLE``之类的命令对现有数据库表进行更改时，此命令通常需要为新约束指定显式名称，以及能够指定要删除或修改的现有约束的名称。</p>
<p>可以使用事件来构建自动命名方案。这种方法的优点是在代码中无需显式名称参数即可收到约束的一致命名方案，而且该约定还适用于使用：paramref：<a href="#id7"><span class="problematic" id="id8">`</span></a>_schema.Column.unique`和：paramref：<a href="#id9"><span class="problematic" id="id10">`</span></a>_schema.Column.index`参数创建的约束和索引。从SQLAlchemy 0.9.2开始，该基于事件的方法已包括在内，可以使用参数：paramref：<a href="#id11"><span class="problematic" id="id12">`</span></a>_schema.MetaData.naming_convention`进行配置。</p>
<p>配置  <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a> .Index` 类或单个约束类作为键，并接受Python字符串模板作为值。它还接受一系列字符串代码作为备用密钥，例如“fk”，“pk”，“ix”，“ck”，“uq”，用于外键，主键，索引，检查和唯一约束，例如。在这个字典中使用的字符串模板，是在该 <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> 对象关联到的约束或索引没有现有名称时使用的。</p>
<p>适用于所有约束的示例命名约定如下：</p>
<blockquote>
<div><dl class="simple">
<dt>convention = {</dt><dd><p>“ix”: “ix_%(column_0_label)s”,
“uq”: “uq_%(table_name)s_%(column_0_name)s”,
“ck”: “ck_%(table_name)s_%(constraint_name)s”,
“fk”: “fk_%(table_name)s_%(column_0_name)s_%(referred_table_name)s”,
“pk”: “pk_%(table_name)s”,</p>
</dd>
</dl>
<p>}</p>
<p>metadata_obj = MetaData(naming_convention=convention)</p>
</div></blockquote>
<p>上面的约定将为目标  <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a> .UniqueConstraint` 时产生的名称：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;user&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadata_obj</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">UniqueConstraint</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">constraints</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;uq_user_name&#39;</span></pre></div>
</div>
<p>即使我们只使用了：paramref:<a href="#id13"><span class="problematic" id="id14">`</span></a>_schema.Column.unique`标志，此功能也会生效：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;user&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadata_obj</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list</span><span class="p">(</span><span class="n">user_table</span><span class="o">.</span><span class="n">constraints</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;uq_user_name&#39;</span></pre></div>
</div>
<p>使用命名约定的一个重要优点是，在Python构造时建立了名称，而不是在DDL发出时建立名称。使用Alembic的“—autogenerate”功能时，该名称约定在新的移动脚本生成时将是明确的:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">upgrade</span><span class="p">():</span>
    <span class="n">op</span><span class="o">.</span><span class="n">create_unique_constraint</span><span class="p">(</span><span class="s2">&quot;uq_user_name&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span></pre></div>
</div>
<p>上面的“uq_user_name”字符串是从“—autogenerate”在我们的元数据中找到的 <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a> 对象复制的。</p>
<p>可用的标记包括``%(table_name)s``，<code class="docutils literal notranslate"><span class="pre">%(referred_table_name)s</span></code>，<code class="docutils literal notranslate"><span class="pre">%(column_0_name)s</span></code>，<code class="docutils literal notranslate"><span class="pre">%(column_0_label)s</span></code>，<code class="docutils literal notranslate"><span class="pre">%(column_0_key)s</span></code>，<code class="docutils literal notranslate"><span class="pre">%(referred_column_0_name)s``和``%(constraint_name)s</span></code>，以及每个标记的多列版本，包括 <code class="docutils literal notranslate"><span class="pre">%(column_0N_name)s</span></code>，<code class="docutils literal notranslate"><span class="pre">%(column_0_N_name)s</span></code>，<code class="docutils literal notranslate"><span class="pre">%(referred_column_0_N_name)s</span></code>，它们将所有列名分隔或不分隔线呈现。  <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a>  文档详细介绍了每个约定的其他细节。</p>
<section id="constraint-default-naming-convention">
<span id="id15"></span><h3>默认命名约定<a class="headerlink" href="#constraint-default-naming-convention" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p><a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a>  的默认值处理了长期存在的SQLAlchemy行为，即为使用  :param:` _schema.Column.index`  参数创建的 <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> 对象分配名称:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy.sql.schema</span> <span class="kn">import</span> <span class="n">DEFAULT_NAMING_CONVENTION</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DEFAULT_NAMING_CONVENTION</span>
<span class="go">immutabledict({&#39;ix&#39;: &#39;ix_%(column_0_label)s&#39;})</span></pre></div>
</div>
</div></blockquote>
</section>
<section id="id16">
<h3>长名称的截断<a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h3>
<p>当生成的名称，特别是使用多列标记的那些名称，超出目标数据库的标识符长度限制时（例如，PostgreSQL有一个63个字符的限制），这个名称将根据长名称的md5散列进行确定性截断，该名称的4个字符后缀。例如，下面的命名约定将根据使用的列名称生成非常长的名称:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span>
    <span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uq&quot;</span><span class="p">:</span> <span class="s2">&quot;uq_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_N_name)s</span><span class="s2">&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">long_names</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;long_names&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;information_channel_code&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;billing_convention_name&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;product_identifier&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">),</span>
    <span class="n">UniqueConstraint</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
<p>在PostgreSQL dialect上，超过63个字符的名称将被截断，如下面的示例：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">long_names</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">information_channel_code</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">billing_convention_name</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">product_identifier</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">uq_long_names_information_channel_code_billing_conventi_a79e</span>
<span class="w">    </span><span class="k">UNIQUE</span><span class="w"> </span><span class="p">(</span><span class="n">information_channel_code</span><span class="p">,</span><span class="w"> </span><span class="n">billing_convention_name</span><span class="p">,</span><span class="w"> </span><span class="n">product_identifier</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>上面的后缀“a79e”是基于长名称的md5哈希而确定的，并且将为给定模式生成相同的值。</p>
</section>
<section id="id17">
<h3>为命名约定创建自定义标记<a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h3>
<p>可以通过在:named-param:<a href="#id18"><span class="problematic" id="id19">`</span></a>naming_convention`字典中指定其他令牌和可调用来添加新令牌。例如，如果我们想使用GUID方案命名外键约束，我们可以这样做：</p>
<blockquote>
<div><p>import uuid</p>
<dl>
<dt>def fk_guid(constraint, table):</dt><dd><dl>
<dt>str_tokens = (</dt><dd><dl class="simple">
<dt>[</dt><dd><p>table.name,</p>
</dd>
</dl>
<p>]
+ [element.parent.name for element in constraint.elements]
+ [element.target_fullname for element in constraint.elements]</p>
</dd>
</dl>
<p>)
guid = uuid.uuid5(uuid.NAMESPACE_OID, “_”.join(str_tokens).encode(“ascii”))
return str(guid)</p>
</dd>
<dt>convention = {</dt><dd><p>“fk_guid”: fk_guid,
“ix”: “ix_%(column_0_label)s”,
“fk”: “fk_%(table_name)s_%(column_0_name)s_%(referred_table_name)s”,</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>上面的，当我们创建一个新的 <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> 时，我们将获得以下名称：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">naming_convention</span><span class="o">=</span><span class="n">convention</span><span class="p">)</span></pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">user_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;user&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadata_obj</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">30</span><span class="p">)),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">address_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;address&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">metadata_obj</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;user_version_id&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk</span> <span class="o">=</span> <span class="n">ForeignKeyConstraint</span><span class="p">([</span><span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="s2">&quot;user_version_id&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;user.id&quot;</span><span class="p">,</span> <span class="s2">&quot;user.version&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">address_table</span><span class="o">.</span><span class="n">append_constraint</span><span class="p">(</span><span class="n">fk</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fk</span><span class="o">.</span><span class="n">name</span>
<span class="go">fk_0cd51ab5-8d70-56e8-a83c-86661737766d</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<blockquote>
<div><p><a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData.params.naming_convention" title="sqlalchemy.schema.MetaData"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">MetaData.naming_convention</span></code></a>  - 用于附加使用详细信息的其他用法说明</p>
</div></blockquote>
<p>以及所有可用的命名组件。</p>
<p><a class="reference external" href="https://alembic.sqlalchemy.org/en/latest/naming.html">The Importance of Naming Constraints</a> - 位于Alembic文档中</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.0添加了多列命名标记，例如“%(column_0_N_name)”。: </span>超出目标数据库的字符限制的生成名称将被确定性截断。</p>
</div>
</section>
<section id="naming-check-constraints">
<span id="id20"></span><h3>命名检查约束<a class="headerlink" href="#naming-check-constraints" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a> .CheckConstraint` 的常见约定是我们期望该对象已经有一个名称，然后我们使用其他约定元素将其增强。典型的约定是“ck_%（table_name）s_%（constraint_name）s”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span>
    <span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(constraint_name)s</span><span class="s2">&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">CheckConstraint</span><span class="p">(</span><span class="s2">&quot;value &gt; 5&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;value_gt_5&quot;</span><span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
</div></blockquote>
<p>上面的表会产生名称“ck_foo_value_gt_5”：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="n">value</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">      </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">ck_foo_value_gt_5</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>

<span class="p">:</span><span class="k">class</span><span class="p">:</span><span class="o">`</span><span class="p">.</span><span class="n">CheckConstraint</span><span class="o">`</span><span class="w"> </span><span class="o">`</span><span class="w"> </span><span class="err">％（</span><span class="n">columns_0_name</span><span class="err">）</span><span class="n">s</span><span class="o">``</span><span class="err">令牌；我们可以使用这个令牌，通过在约束的表达式中确保我们使用：</span><span class="k">class</span><span class="p">:</span><span class="o">`</span><span class="n">_schema</span><span class="p">.</span><span class="k">Column</span><span class="o">`</span><span class="err">或</span><span class="w"> </span><span class="p">:</span><span class="n">func</span><span class="p">:</span><span class="o">`</span><span class="n">_expression</span><span class="p">.</span><span class="k">column</span><span class="o">`</span><span class="w"> </span><span class="err">元素，对其执行操作，将约束与表分离：</span></pre></div>
</div>
</section>
</section>
<section id="check-naming">
<h2>配置 Check 约束和 Naming<a class="headerlink" href="#check-naming" title="Permalink to this heading">¶</a></h2>
<p>在定义表结构时，可以通过   <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a>  类和约束名，来添加 ` <cite>CHECK`</cite> 条件约束。可以用两种方式来指定 CHECK 约束的名字，一种是手动指定，以字符串形式传入。另一种是使用 SQLAlchemy 的命名惯例。</p>
<p>一种方法是使用   <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a>  类:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">metadata_obj</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">))</span>
<span class="n">CheckConstraint</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;foo_value_check&quot;</span><span class="p">)</span></pre></div>
</div>
<p>另一种方法是使用   <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a>  类和 SQLAlchemy 的命名惯例，以下代码将产生名为 ` <cite>ck_foo_value`</cite> 的 CHECK 约束：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_name)s</span><span class="s2">&quot;</span><span class="p">})</span>
<span class="n">foo</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">metadata_obj</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">))</span>
<span class="n">CheckConstraint</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>或者使用内联的   <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.column" title="sqlalchemy.sql.expression.column"><code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code></a>  函数:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">column</span>

<span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(column_0_name)s</span><span class="s2">&quot;</span><span class="p">})</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">metadata_obj</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span> <span class="n">CheckConstraint</span><span class="p">(</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>两种方法都会产生名为 <code class="docutils literal notranslate"><span class="pre">ck_foo_value</span></code> 的约束：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">ck_foo_value</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="p">)</span></pre></div>
</div>
<p>程序会扫描所给表达式中存在的列对象，来确定“第 0 列”的名称。如果表达式中存在多个列，则使用确定性搜索扫描，但表达式的结构将决定哪个列将被标示为“第 0 列”。</p>
</section>
<section id="naming-schematypes">
<span id="id21"></span><h2>配置布尔值、枚举值和其他模式类型的命名<a class="headerlink" href="#naming-schematypes" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p><a class="reference internal" href="type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a>  类是指代一些类型信息的类，如  :class:` .Boolean` 。这些类生成了一个与类型相应的 <code class="docutils literal notranslate"><span class="pre">CHECK</span></code> 条件约束。这里约束的名字可以通过直接发送 “name” 参数来设定，例如使用  <a class="reference internal" href="type_basics.html#sqlalchemy.types.Boolean.params.name" title="sqlalchemy.types.Boolean"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Boolean.name</span></code></a>  中的代码：</p>
<blockquote>
<div><p>Table(“foo”, metadata_obj, Column(“flag”, Boolean(name=”ck_foo_flag”)))</p>
</div></blockquote>
</div></blockquote>
<p>缺省情况下，为这些类型设定的名字是依靠所设定的 “naming_convention” 来完成的。</p>
<p>这些类型也可以和命名惯例一起使用，为其应用约定本身（通常是包含 <code class="docutils literal notranslate"><span class="pre">%(constraint_name)s</span></code> 的命名约定），然后再给类型应用一个名字：</p>
<blockquote>
<div><dl class="simple">
<dt>metadata_obj = MetaData(</dt><dd><p>naming_convention={“ck”: “ck_%(table_name)s_%(constraint_name)s”}</p>
</dd>
</dl>
<p>)</p>
<p>Table(“foo”, metadata_obj, Column(“flag”, Boolean(name=”flag_bool”)))</p>
</div></blockquote>
<p>上面的表会产生名为 <code class="docutils literal notranslate"><span class="pre">ck_foo_flag_bool</span></code> 的约束：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="n">flag</span><span class="w"> </span><span class="n">BOOL</span><span class="p">,</span>
<span class="w">      </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">ck_foo_flag_bool</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">  </span><span class="p">)</span>

<span class="p">:</span><span class="k">class</span><span class="p">:</span><span class="o">`</span><span class="p">.</span><span class="n">SchemaType</span><span class="o">`</span><span class="w">  </span><span class="err">类使用特殊的内部符号，以便约定仅在</span><span class="w"> </span><span class="n">DDL</span><span class="w"> </span><span class="err">编译时确定。在</span><span class="w"> </span><span class="n">PostgreSQL</span><span class="w"> </span><span class="err">上，有一个原生的</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="err">类型，因此</span><span class="w">   </span><span class="p">:</span><span class="k">class</span><span class="p">:</span><span class="o">`</span><span class="w"> </span><span class="p">.</span><span class="nb">Boolean</span><span class="o">`</span><span class="w">  </span><span class="err">的</span><span class="w"> </span><span class="o">``</span><span class="k">CHECK</span><span class="o">``</span><span class="w"> </span><span class="err">约束是不必要的；即使在定义检查约束的命名约定的情况下，我们也可以安全地设置一个未命名的</span><span class="w">   </span><span class="p">:</span><span class="k">class</span><span class="p">:</span><span class="o">`</span><span class="p">.</span><span class="nb">Boolean</span><span class="o">`</span><span class="w">  </span><span class="err">类型。只有在运行在诸如</span><span class="w"> </span><span class="n">SQLite</span><span class="w"> </span><span class="err">或</span><span class="w"> </span><span class="n">MySQL</span><span class="w"> </span><span class="err">等没有原生</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="w"> </span><span class="err">类型的数据库中时，才会参考这个约定来确定</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="err">约束。</span></pre></div>
</div>
<p>在调用   <a class="reference internal" href="type_basics.html#sqlalchemy.types.SchemaType" title="sqlalchemy.types.SchemaType"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaType</span></code></a>  中定义约束时，也可以使用 ` <cite>column_0_name`</cite> 标记:</p>
<blockquote>
<div><p>metadata_obj = MetaData(naming_convention={“ck”: “ck_%(table_name)s_%(column_0_name)s”})
foo = Table(“foo”, metadata_obj, Column(“flag”, Boolean()))</p>
</div></blockquote>
<p>上述表结构会产生如下 DDL：</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">flag</span><span class="w"> </span><span class="n">BOOL</span><span class="p">,</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">ck_foo_flag</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="p">)</span></pre></div>
</div>
</section>
<section id="api">
<h2>约束 API<a class="headerlink" href="#api" title="Permalink to this heading">¶</a></h2>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><span class="sig-name descname">CheckConstraint</span></a></p></td>
<td><p>A table- or column-level CHECK constraint.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><span class="sig-name descname">ColumnCollectionConstraint</span></a></p></td>
<td><p>A constraint that proxies a ColumnCollection.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin"><span class="sig-name descname">ColumnCollectionMixin</span></a></p></td>
<td><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.Constraint"><span class="sig-name descname">Constraint</span></a></p></td>
<td><p>A table-level SQL constraint.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.conv"><span class="sig-name descname">conv</span></a></p></td>
<td><p>Mark a string indicating that a name has already been converted
by a naming convention.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><span class="sig-name descname">ForeignKey</span></a></p></td>
<td><p>Defines a dependency between two columns.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><span class="sig-name descname">ForeignKeyConstraint</span></a></p></td>
<td><p>A table-level FOREIGN KEY constraint.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL"><span class="sig-name descname">HasConditionalDDL</span></a></p></td>
<td><p>define a class that includes the <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a>
method, allowing for conditional rendering of DDL.</p></td>
</tr>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><span class="sig-name descname">PrimaryKeyConstraint</span></a></p></td>
<td><p>A table-level PRIMARY KEY constraint.</p></td>
</tr>
<tr class="row-odd"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><span class="sig-name descname">UniqueConstraint</span></a></p></td>
<td><p>A table-level UNIQUE constraint.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">Constraint</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level SQL constraint.</p>
<p><a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a> serves as the base class for the series of
constraint objects that can be associated with <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
objects, including <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a>,
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
<a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniqueConstraint</span></code></a>, and
<a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a>.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.Constraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint</span></code></a> (<a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>, <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.HasConditionalDDL</span></code></a>, <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.SchemaItem</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_create_rule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_type_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SQL constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.name">¶</a> – Optional, the in-database name of this <code class="docutils literal notranslate"><span class="pre">Constraint</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.deferrable">¶</a> – Optional bool.  If set, emit DEFERRABLE or NOT DEFERRABLE when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.initially">¶</a> – Optional string.  If set, emit INITIALLY &lt;value&gt; when issuing DDL
for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.info">¶</a> – Optional data dictionary which will be populated into the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> attribute of this object.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.comment"></span><strong>comment</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.comment">¶</a> – <p>Optional string that will render an SQL comment on
foreign key constraint creation.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</div></blockquote>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params.**dialect_kw">¶</a> – Additional keyword arguments are dialect
specific, and passed in the form <code class="docutils literal notranslate"><span class="pre">&lt;dialectname&gt;_&lt;argname&gt;</span></code>.  See
the documentation regarding an individual dialect at
<a class="reference internal" href="../dialects/index.html"><span class="std std-ref">方言</span></a> for detail on documented arguments.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params._create_rule"></span><strong>_create_rule</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params._create_rule">¶</a> – used internally by some datatypes that also create constraints.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.params._type_bound"></span><strong>_type_bound</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.params._type_bound">¶</a> – used internally to indicate that this constraint is associated with
a specific datatype.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.Constraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Constraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.Constraint.copy" title="sqlalchemy.schema.Constraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Constraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Constraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Constraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Constraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Constraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Constraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.Constraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">ColumnCollectionMixin</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects.</p>
<p>This collection represents the columns which are referred to by
this object.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">ColumnCollectionConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A constraint that proxies a ColumnCollection.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionMixin</span></code></a>, <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.Constraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DDLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_autoattach</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_column_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_gather_expressions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">_DDLColumnArgument</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.*columns"></span><strong>*columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.*columns">¶</a> – A sequence of column names or Column objects.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.name">¶</a> – Optional, the in-database name of this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.deferrable">¶</a> – Optional bool.  If set, emit DEFERRABLE or NOT DEFERRABLE when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.initially">¶</a> – Optional string.  If set, emit INITIALLY &lt;value&gt; when issuing DDL
for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.params.**dialect_kw">¶</a> – other keyword arguments including
dialect-specific arguments are propagated to the <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
superclass.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.sql.schema.ColumnCollectionConstraint"><span class="pre">ColumnCollectionConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ColumnCollectionConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ColumnCollectionConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">CheckConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table- or column-level CHECK constraint.</p>
<p>Can be included in the definition of a Table or Column.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sqltext</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_TextCoercedExpressionArgument</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_create_rule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_autoattach</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_type_bound</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a CHECK constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.sqltext"></span><strong>sqltext</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.sqltext">¶</a> – <p>A string containing the constraint definition, which will be used
verbatim, or a SQL expression construct.   If given as a string,
the object is converted to a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> object.
If the textual
string includes a colon character, escape this using a backslash:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CheckConstraint</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;foo ~ E&#39;a(?\:b|c)d&quot;</span><span class="p">)</span></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.params.sqltext" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">CheckConstraint.sqltext</span></code></a> argument to <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a> can be passed as a Python string argument, which will be treated as <strong>trusted SQL text</strong> and rendered as given.  <strong>DO NOT PASS UNTRUSTED INPUT TO THIS PARAMETER</strong>.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.name">¶</a> – Optional, the in-database name of the constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.deferrable">¶</a> – Optional bool.  If set, emit DEFERRABLE or NOT DEFERRABLE when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.initially">¶</a> – Optional string.  If set, emit INITIALLY &lt;value&gt; when issuing DDL
for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.params.info">¶</a> – Optional data dictionary which will be populated into the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> attribute of this object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.sql.schema.CheckConstraint"><span class="pre">CheckConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint.copy" title="sqlalchemy.schema.CheckConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CheckConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.CheckConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.CheckConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.CheckConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.CheckConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.CheckConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.CheckConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">ForeignKey</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a dependency between two columns.</p>
<p><code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> is specified as an argument to a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
object,
e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;remote_table&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;remote_id&quot;</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;main_table.id&quot;</span><span class="p">))</span>
<span class="p">)</span></pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> is only a marker object that defines
a dependency between two columns.   The actual constraint
is in all cases represented by the <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
object.   This object will be generated automatically when
a <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> is associated with a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> which
in turn is associated with a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.   Conversely,
when <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> is applied to a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>,
<code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> markers are automatically generated to be
present on each associated <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>, which are also
associated with the constraint object.</p>
<p>Note that you cannot define a “composite” foreign key constraint,
that is a constraint between a grouping of multiple parent/child
columns, using <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> objects.   To define this grouping,
the <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> object must be used, and applied
to the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.   The associated <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> objects
are created automatically.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ForeignKey</span></code> objects associated with an individual
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
object are available in the <cite>foreign_keys</cite> collection
of that column.</p>
<p>Further examples of foreign key configuration are in
<a class="reference internal" href="#metadata-foreignkeys"><span class="std std-ref">定义外键</span></a>.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.ForeignKey.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.column"><span class="sig-name descname">column</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.get_referent"><span class="sig-name descname">get_referent()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.kwargs"><span class="sig-name descname">kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.references"><span class="sig-name descname">references()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.target_fullname"><span class="sig-name descname">target_fullname</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey</span></code></a> (<a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>, <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.SchemaItem</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DDLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_constraint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><span class="pre">ForeignKeyConstraint</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_alter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onupdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ondelete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_to_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_unresolvable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a column-level FOREIGN KEY.</p>
<p>The <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> object when constructed generates a
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
which is associated with the parent
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object’s collection of constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.column"></span><strong>column</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.column">¶</a> – A single target column for the key relationship. A
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> object or a column name as a string:
<code class="docutils literal notranslate"><span class="pre">tablename.columnkey</span></code> or <code class="docutils literal notranslate"><span class="pre">schema.tablename.columnkey</span></code>.
<code class="docutils literal notranslate"><span class="pre">columnkey</span></code> is the <code class="docutils literal notranslate"><span class="pre">key</span></code> which has been assigned to the column
(defaults to the column name itself), unless <code class="docutils literal notranslate"><span class="pre">link_to_name</span></code> is
<code class="docutils literal notranslate"><span class="pre">True</span></code> in which case the rendered name of the column is used.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.name">¶</a> – Optional string. An in-database name for the key if
<cite>constraint</cite> is not provided.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.onupdate"></span><strong>onupdate</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.onupdate">¶</a> – Optional string. If set, emit ON UPDATE &lt;value&gt; when
issuing DDL for this constraint. Typical values include CASCADE,
DELETE and RESTRICT.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.ondelete"></span><strong>ondelete</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.ondelete">¶</a> – Optional string. If set, emit ON DELETE &lt;value&gt; when
issuing DDL for this constraint. Typical values include CASCADE,
DELETE and RESTRICT.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.deferrable">¶</a> – Optional bool. If set, emit DEFERRABLE or NOT
DEFERRABLE when issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.initially">¶</a> – Optional string. If set, emit INITIALLY &lt;value&gt; when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.link_to_name"></span><strong>link_to_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.link_to_name">¶</a> – if True, the string name given in <code class="docutils literal notranslate"><span class="pre">column</span></code> is
the rendered name of the referenced column, not its locally
assigned <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.use_alter"></span><strong>use_alter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.use_alter">¶</a> – <p>passed to the underlying
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>
to indicate the constraint should
be generated/dropped externally from the CREATE TABLE/ DROP TABLE
statement.  See <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ForeignKeyConstraint.use_alter</span></code></a>
for further description.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ForeignKeyConstraint.use_alter</span></code></a></p>
<p><a class="reference internal" href="#use-alter"><span class="std std-ref">通过ALTER创建/删除外键约束</span></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.match"></span><strong>match</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.match">¶</a> – Optional string. If set, emit MATCH &lt;value&gt; when issuing
DDL for this constraint. Typical values include SIMPLE, PARTIAL
and FULL.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.info">¶</a> – Optional data dictionary which will be populated into the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> attribute of this object.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.comment"></span><strong>comment</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.comment">¶</a> – <p>Optional string that will render an SQL comment on
foreign key constraint creation.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</div></blockquote>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.params.**dialect_kw">¶</a> – Additional keyword arguments are dialect
specific, and passed in the form <code class="docutils literal notranslate"><span class="pre">&lt;dialectname&gt;_&lt;argname&gt;</span></code>.  The
arguments are ultimately handled by a corresponding
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>.
See the documentation regarding
an individual dialect at <a class="reference internal" href="../dialects/index.html"><span class="std std-ref">方言</span></a> for detail on
documented arguments.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKey.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKey.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.column">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">column</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> referenced by this
<a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
<p>If no target column has been established, an exception
is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.sql.schema.ForeignKey"><span class="pre">ForeignKey</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ForeignKey.copy" title="sqlalchemy.schema.ForeignKey.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ForeignKey.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.get_referent">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">get_referent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><span class="pre">FromClause</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.get_referent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> in the given
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> (or any <a class="reference internal" href="selectable.html#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>)
referenced by this <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
<p>Returns None if this <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>
does not reference the given
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.references">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">references</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.references" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the given <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
is referenced by this
<a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKey.target_fullname">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKey"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKey.</span></code></a><span class="sig-name descname"><span class="pre">target_fullname</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKey.target_fullname" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string based ‘column specification’ for this
<a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>.</p>
<p>This is usually the equivalent of the string-based “tablename.colname”
argument first passed to the object’s constructor.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">ForeignKeyConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level FOREIGN KEY constraint.</p>
<p>Defines a single column or composite FOREIGN KEY … REFERENCES
constraint. For a no-frills, single column foreign key, adding a
<a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> to the definition of a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
is a
shorthand equivalent for an unnamed, single column
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>.</p>
<p>Examples of foreign key configuration are in <a class="reference internal" href="#metadata-foreignkeys"><span class="std std-ref">定义外键</span></a>.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.column_keys"><span class="sig-name descname">column_keys</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.elements"><span class="sig-name descname">elements</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.kwargs"><span class="sig-name descname">kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.referred_table"><span class="sig-name descname">referred_table</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_typing_Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_DDLColumnArgument</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refcolumns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_typing_Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_DDLColumnArgument</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onupdate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ondelete</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_alter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_to_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a composite-capable FOREIGN KEY.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.columns"></span><strong>columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.columns">¶</a> – A sequence of local column names. The named columns
must be defined and present in the parent Table. The names should
match the <code class="docutils literal notranslate"><span class="pre">key</span></code> given to each column (defaults to the name) unless
<code class="docutils literal notranslate"><span class="pre">link_to_name</span></code> is True.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.refcolumns"></span><strong>refcolumns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.refcolumns">¶</a> – A sequence of foreign column names or Column
objects. The columns must all be located within the same Table.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.name">¶</a> – Optional, the in-database name of the key.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.onupdate"></span><strong>onupdate</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.onupdate">¶</a> – Optional string. If set, emit ON UPDATE &lt;value&gt; when
issuing DDL for this constraint. Typical values include CASCADE,
DELETE and RESTRICT.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.ondelete"></span><strong>ondelete</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.ondelete">¶</a> – Optional string. If set, emit ON DELETE &lt;value&gt; when
issuing DDL for this constraint. Typical values include CASCADE,
DELETE and RESTRICT.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.deferrable">¶</a> – Optional bool. If set, emit DEFERRABLE or NOT
DEFERRABLE when issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.initially">¶</a> – Optional string. If set, emit INITIALLY &lt;value&gt; when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.link_to_name"></span><strong>link_to_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.link_to_name">¶</a> – if True, the string name given in <code class="docutils literal notranslate"><span class="pre">column</span></code> is
the rendered name of the referenced column, not its locally assigned
<code class="docutils literal notranslate"><span class="pre">key</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.use_alter"></span><strong>use_alter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter">¶</a> – <p>If True, do not emit the DDL for this constraint as
part of the CREATE TABLE definition. Instead, generate it via an
ALTER TABLE statement issued after the full collection of tables
have been created, and drop it via an ALTER TABLE statement before
the full collection of tables are dropped.</p>
<p>The use of <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.use_alter" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">ForeignKeyConstraint.use_alter</span></code></a> is
particularly geared towards the case where two or more tables
are established within a mutually-dependent foreign key constraint
relationship; however, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.drop_all()</span></code>
methods will perform this resolution
automatically, so the flag is normally not needed.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#use-alter"><span class="std std-ref">通过ALTER创建/删除外键约束</span></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.match"></span><strong>match</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.match">¶</a> – Optional string. If set, emit MATCH &lt;value&gt; when issuing
DDL for this constraint. Typical values include SIMPLE, PARTIAL
and FULL.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.info"></span><strong>info</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.info">¶</a> – Optional data dictionary which will be populated into the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> attribute of this object.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.comment"></span><strong>comment</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.comment">¶</a> – <p>Optional string that will render an SQL comment on
foreign key constraint creation.</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
</div></blockquote>
</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.params.**dialect_kw">¶</a> – Additional keyword arguments are dialect
specific, and passed in the form <code class="docutils literal notranslate"><span class="pre">&lt;dialectname&gt;_&lt;argname&gt;</span></code>.  See
the documentation regarding an individual dialect at
<a class="reference internal" href="../dialects/index.html"><span class="std std-ref">方言</span></a> for detail on documented arguments.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.column_keys">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">column_keys</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.column_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of string keys representing the local
columns in this <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>.</p>
<p>This list is either the original string arguments sent
to the constructor of the <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>,
or if the constraint has been initialized with <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects, is the string <code class="docutils literal notranslate"><span class="pre">.key</span></code> of each element.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.sql.schema.ForeignKeyConstraint"><span class="pre">ForeignKeyConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.copy" title="sqlalchemy.schema.ForeignKeyConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ForeignKeyConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.elements">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">elements</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><span class="pre">ForeignKey</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.elements" title="Permalink to this definition">¶</a></dt>
<dd><p>A sequence of <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> objects.</p>
<p>Each <a class="reference internal" href="#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>
represents a single referring column/referred
column pair.</p>
<p>This collection is intended to be read-only.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.ForeignKeyConstraint.referred_table">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ForeignKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">referred_table</span></span><a class="headerlink" href="#sqlalchemy.schema.ForeignKeyConstraint.referred_table" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object to which this
<a class="reference internal" href="#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a> references.</p>
<p>This is a dynamically calculated attribute which may not be available
if the constraint and/or parent table is not yet associated with
a metadata collection that contains the referred table.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.HasConditionalDDL">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">HasConditionalDDL</span></span><a class="headerlink" href="#sqlalchemy.schema.HasConditionalDDL" title="Permalink to this definition">¶</a></dt>
<dd><p>define a class that includes the <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a>
method, allowing for conditional rendering of DDL.</p>
<p>Currently applies to constraints and indexes.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if"><span class="sig-name descname">ddl_if()</span></a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.HasConditionalDDL.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.HasConditionalDDL.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.HasConditionalDDL.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.HasConditionalDDL.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.HasConditionalDDL.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">PrimaryKeyConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level PRIMARY KEY constraint.</p>
<p>The <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> object is present automatically
on any <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object; it is assigned a set of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects corresponding to those marked with
the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.primary_key" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.primary_key</span></code></a> flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;version_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">))</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_table</span><span class="o">.</span><span class="n">primary_key</span>
<span class="go">PrimaryKeyConstraint(</span>
<span class="go">    Column(&#39;id&#39;, Integer(), table=&lt;mytable&gt;,</span>
<span class="go">           primary_key=True, nullable=False),</span>
<span class="go">    Column(&#39;version_id&#39;, Integer(), table=&lt;mytable&gt;,</span>
<span class="go">           primary_key=True, nullable=False)</span>
<span class="go">)</span></pre></div>
</div>
<p>The primary key of a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> can also be specified by using
a <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> object explicitly; in this mode of usage,
the “name” of the constraint can also be specified, as well as other
options which may be recognized by dialects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;version_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
            <span class="n">PrimaryKeyConstraint</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;version_id&#39;</span><span class="p">,</span>
                                 <span class="n">name</span><span class="o">=</span><span class="s1">&#39;mytable_pk&#39;</span><span class="p">)</span>
        <span class="p">)</span></pre></div>
</div>
<p>The two styles of column-specification should generally not be mixed.
An warning is emitted if the columns present in the
<a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a>
don’t match the columns that were marked as <code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code>, if both
are present; in this case, the columns are taken strictly from the
<a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> declaration, and those columns otherwise
marked as <code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code> are ignored.  This behavior is intended to
be backwards compatible with previous behavior.</p>
<p>For the use case where specific options are to be specified on the
<a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a>, but the usual style of using
<code class="docutils literal notranslate"><span class="pre">primary_key=True</span></code> flags is still desirable, an empty
<a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> may be specified, which will take on the
primary key column collection from the <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> based on the
flags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;mytable&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;version_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
            <span class="n">PrimaryKeyConstraint</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;mytable_pk&#39;</span><span class="p">,</span>
                                 <span class="n">mssql_clustered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">)</span></pre></div>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.sql.schema.ColumnCollectionConstraint"><span class="pre">ColumnCollectionConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.PrimaryKeyConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.PrimaryKeyConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.PrimaryKeyConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.PrimaryKeyConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">UniqueConstraint</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level UNIQUE constraint.</p>
<p>Defines a single column or composite UNIQUE constraint. For a no-frills,
single column constraint, adding <code class="docutils literal notranslate"><span class="pre">unique=True</span></code> to the <code class="docutils literal notranslate"><span class="pre">Column</span></code>
definition is a shorthand equivalent for an unnamed, single column
UniqueConstraint.</p>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.columns"><span class="sig-name descname">columns</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.contains_column"><span class="sig-name descname">contains_column()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.copy"><span class="sig-name descname">copy()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint" title="sqlalchemy.schema.UniqueConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint</span></code></a> (<a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DDLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_ConstraintNameArgument</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deferrable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initially</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_autoattach</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_column_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_gather_expressions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">_DDLColumnArgument</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.__init__" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionConstraint.__init__</span></code> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.*columns"></span><strong>*columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.*columns">¶</a> – A sequence of column names or Column objects.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.name">¶</a> – Optional, the in-database name of this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.deferrable"></span><strong>deferrable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.deferrable">¶</a> – Optional bool.  If set, emit DEFERRABLE or NOT DEFERRABLE when
issuing DDL for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.initially"></span><strong>initially</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.initially">¶</a> – Optional string.  If set, emit INITIALLY &lt;value&gt; when issuing DDL
for this constraint.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.params.**dialect_kw">¶</a> – other keyword arguments including
dialect-specific arguments are propagated to the <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
superclass.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ReadOnlyColumnCollection</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">ColumnCollectionMixin.columns</span></code> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionMixin</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> representing the set of columns
for this constraint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.contains_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">contains_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.sql.schema.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.contains_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.contains_column" title="sqlalchemy.schema.ColumnCollectionConstraint.contains_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.contains_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<p>Return True if this constraint contains the given column.</p>
<p>Note that this object also contains an attribute <code class="docutils literal notranslate"><span class="pre">.columns</span></code>
which is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.copy">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.sql.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.sql.schema.ColumnCollectionConstraint"><span class="pre">ColumnCollectionConstraint</span></a></span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint" title="sqlalchemy.schema.ColumnCollectionConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollectionConstraint</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionConstraint.copy" title="sqlalchemy.schema.ColumnCollectionConstraint.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollectionConstraint.copy()</span></code></a> method is deprecated and will be removed in a future release.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.UniqueConstraint.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.UniqueConstraint.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.UniqueConstraint.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.UniqueConstraint"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.UniqueConstraint.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.UniqueConstraint.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.schema.conv">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">conv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#sqlalchemy.schema.conv" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a string indicating that a name has already been converted
by a naming convention.</p>
<p>This is a string subclass that indicates a name that should not be
subject to any further naming conventions.</p>
<p>E.g. when we create a <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a> using a naming convention
as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(constraint_name)s</span><span class="s2">&quot;</span>
<span class="p">})</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
                <span class="n">CheckConstraint</span><span class="p">(</span><span class="s1">&#39;x &gt; 5&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;x5&#39;</span><span class="p">))</span></pre></div>
</div>
<p>The name of the above constraint will be rendered as <code class="docutils literal notranslate"><span class="pre">&quot;ck_t_x5&quot;</span></code>.
That is, the existing name <code class="docutils literal notranslate"><span class="pre">x5</span></code> is used in the naming convention as the
<code class="docutils literal notranslate"><span class="pre">constraint_name</span></code> token.</p>
<p>In some situations, such as in migration scripts, we may be rendering
the above <a class="reference internal" href="#sqlalchemy.schema.CheckConstraint" title="sqlalchemy.schema.CheckConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">CheckConstraint</span></code></a> with a name that’s already been
converted.  In order to make sure the name isn’t double-modified, the
new name is applied using the <a class="reference internal" href="#sqlalchemy.schema.conv" title="sqlalchemy.schema.conv"><code class="xref py py-func docutils literal notranslate"><span class="pre">conv()</span></code></a> marker.  We can
use this explicitly as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="n">naming_convention</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;ck&quot;</span><span class="p">:</span> <span class="s2">&quot;ck_</span><span class="si">%(table_name)s</span><span class="s2">_</span><span class="si">%(constraint_name)s</span><span class="s2">&quot;</span>
<span class="p">})</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
                <span class="n">CheckConstraint</span><span class="p">(</span><span class="s1">&#39;x &gt; 5&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">conv</span><span class="p">(</span><span class="s1">&#39;ck_t_x5&#39;</span><span class="p">)))</span></pre></div>
</div>
<p>Where above, the <a class="reference internal" href="#sqlalchemy.schema.conv" title="sqlalchemy.schema.conv"><code class="xref py py-func docutils literal notranslate"><span class="pre">conv()</span></code></a> marker indicates that the constraint
name here is final, and the name will render as <code class="docutils literal notranslate"><span class="pre">&quot;ck_t_x5&quot;</span></code> and not
<code class="docutils literal notranslate"><span class="pre">&quot;ck_t_ck_t_x5&quot;</span></code></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#constraint-naming-conventions"><span class="std std-ref">配置约束命名约定</span></a></p>
</div>
</dd></dl>

</section>
<section id="schema-indexes">
<span id="id22"></span><h2>索引<a class="headerlink" href="#schema-indexes" title="Permalink to this heading">¶</a></h2>
<p>可以使用 <code class="docutils literal notranslate"><span class="pre">index</span></code> 关键词来为单个列创建匿名索引（使用自动生成的名称 <code class="docutils literal notranslate"><span class="pre">ix_&lt;column</span> <span class="pre">label&gt;</span></code>）。<code class="docutils literal notranslate"><span class="pre">unique</span></code> 的使用方式则将唯一性应用到该索引本身，而不是添加单独的 <code class="docutils literal notranslate"><span class="pre">UNIQUE</span></code> 约束。对于具有特定名称或涵盖多个列的索引，请使用   <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>  结构，该结构需要名称。</p>
<p>以下是一个   <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>  示例，包含了多个关联的   :class:` ~sqlalchemy.schema.Index`  对象。”CREATE INDEX” 的 DDL 语句会在表创建语句后立即发出：</p>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="n">metadata_obj</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>
<span class="n">mytable</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span>
    <span class="s2">&quot;mytable&quot;</span><span class="p">,</span>
    <span class="n">metadata_obj</span><span class="p">,</span>
    <span class="c1"># an indexed column, with index &quot;ix_mytable_col1&quot;</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="c1"># a uniquely indexed column with index &quot;ix_mytable_col2&quot;</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col2&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col3&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col4&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col5&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;col6&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># place an index on col3, col4</span>
<span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_col34&quot;</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col3</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col4</span><span class="p">)</span>

<span class="c1"># place a unique index on col5, col6</span>
<span class="n">Index</span><span class="p">(</span><span class="s2">&quot;myindex&quot;</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col5</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col6</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">mytable</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
<div class='show_sql'><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">col1</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">col2</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">col3</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">col4</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">col5</span><span class="w"> </span><span class="nb">INTEGER</span><span class="p">,</span>
<span class="w">    </span><span class="n">col6</span><span class="w"> </span><span class="nb">INTEGER</span>
<span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_mytable_col1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col1</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">ix_mytable_col2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col2</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">myindex</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col5</span><span class="p">,</span><span class="w"> </span><span class="n">col6</span><span class="p">)</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_col34</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col3</span><span class="p">,</span><span class="w"> </span><span class="n">col4</span><span class="p">)</span>
</div></pre></div>
</div>
<p>请注意，在上面的示例中，使用   <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>  结构在与其对应的表之外创建，直接使用   :class:` _schema.Column`  对象。  <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>  也支持在   :class:` _schema.Table`  中”内联”定义，并使用字符串作为列的标识符：</p>
<blockquote>
<div><blockquote>
<div><p>metadata_obj = MetaData()
mytable = Table(</p>
<blockquote>
<div><p>“mytable”,
metadata_obj,
Column(“col1”, Integer),
Column(“col2”, Integer),
Column(“col3”, Integer),
Column(“col4”, Integer),
# place an index on col1, col2
Index(“idx_col12”, “col1”, “col2”),
# place a unique index on col3, col4
Index(“idx_col34”, “col3”, “col4”, unique=True),</p>
</div></blockquote>
<p>)</p>
</div></blockquote>
<p><a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>  对象也支持自己的 ` <cite>create()`</cite> 方法：</p>
</div></blockquote>
<div class="highlight-python+sql notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;someindex&quot;</span><span class="p">,</span> <span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col5</span><span class="p">)</span>
<span class="n">i</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
<div class='show_sql'><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">someindex</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mytable</span><span class="w"> </span><span class="p">(</span><span class="n">col5</span><span class="p">)</span>
</div></pre></div>
</div>
</section>
<section id="id23">
<h2>函数式索引<a class="headerlink" href="#id23" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p><a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>  支持所有 SQL 和函数表达式，具体取决于目标后端。可以使用  :meth:` _expression.ColumnElement.desc`  以降序修改所要使用的列，对该列创建索引：</p>
<blockquote>
<div><p>from sqlalchemy import Index</p>
<p>Index(“someindex”, mytable.c.somecol.desc())</p>
</div></blockquote>
</div></blockquote>
<p>或在后端支持函数索引，例如 PostgreSQL，可以使用 <code class="docutils literal notranslate"><span class="pre">lower()</span></code> 函数来创建“不区分大小写”的索引：</p>
<blockquote>
<div><p>from sqlalchemy import func, Index</p>
<p>Index(“someindex”, func.lower(mytable.c.somecol))</p>
</div></blockquote>
</section>
<section id="id24">
<h2>索引 API<a class="headerlink" href="#id24" title="Permalink to this heading">¶</a></h2>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="autosummary-name"><p><a class="reference internal" href="#sqlalchemy.schema.Index"><span class="sig-name descname">Index</span></a></p></td>
<td><p>A table-level INDEX.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.schema.</span></span><span class="sig-name descname"><span class="pre">Index</span></span><a class="headerlink" href="#sqlalchemy.schema.Index" title="Permalink to this definition">¶</a></dt>
<dd><p>A table-level INDEX.</p>
<p>Defines a composite (one or more column) INDEX.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sometable</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;sometable&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;address&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
            <span class="p">)</span>

<span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<p>For a no-frills, single column index, adding
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> also supports <code class="docutils literal notranslate"><span class="pre">index=True</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sometable</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s2">&quot;sometable&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="p">)</span></pre></div>
</div>
<p>For a composite index, multiple columns can be specified:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">address</span><span class="p">)</span></pre></div>
</div>
<p>Functional indexes are supported as well, typically by using the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.func" title="sqlalchemy.sql.expression.func"><code class="xref py py-data docutils literal notranslate"><span class="pre">func</span></code></a> construct in conjunction with table-bound
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">sometable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">))</span></pre></div>
</div>
<p>An <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> can also be manually associated with a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>,
either through inline declaration or using
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Table.append_constraint()</span></code>.  When this approach is used,
the names
of the indexed columns can be specified as strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Table</span><span class="p">(</span><span class="s2">&quot;sometable&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;address&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span>
                <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;address&quot;</span><span class="p">)</span>
        <span class="p">)</span></pre></div>
</div>
<p>To support functional or expression-based indexes in this form, the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> construct may be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">text</span>

<span class="n">Table</span><span class="p">(</span><span class="s2">&quot;sometable&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">50</span><span class="p">)),</span>
                <span class="n">Column</span><span class="p">(</span><span class="s2">&quot;address&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span>
                <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;some_index&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">(</span><span class="s2">&quot;lower(name)&quot;</span><span class="p">))</span>
        <span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#schema-indexes"><span class="std std-ref">索引</span></a> - General information on <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>.</p>
<p><a class="reference internal" href="../dialects/postgresql.html#postgresql-indexes"><span class="std std-ref">PostgreSQL-Specific Index Options</span></a> - PostgreSQL-specific options available for
the <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct.</p>
<p><a class="reference internal" href="../dialects/mysql.html#mysql-indexes"><span class="std std-ref">MySQL / MariaDB- Specific Index Options</span></a> - MySQL-specific options available for the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct.</p>
<p><a class="reference internal" href="../dialects/mssql.html#mssql-indexes"><span class="std std-ref">Clustered Index Support</span></a> - MSSQL-specific options available for the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct.</p>
</div>
<div class="class-members docutils container">
<p><strong>Members</strong></p>
<p><a class="reference internal" href="#sqlalchemy.schema.Index.__init__"><span class="sig-name descname">__init__()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Index.argument_for"><span class="sig-name descname">argument_for()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Index.create"><span class="sig-name descname">create()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Index.ddl_if"><span class="sig-name descname">ddl_if()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Index.dialect_kwargs"><span class="sig-name descname">dialect_kwargs</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Index.dialect_options"><span class="sig-name descname">dialect_options</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Index.drop"><span class="sig-name descname">drop()</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Index.info"><span class="sig-name descname">info</span></a>, <a class="reference internal" href="#sqlalchemy.schema.Index.kwargs"><span class="sig-name descname">kwargs</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index</span></code></a> (<a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.base.DialectKWArgs</span></code></a>, <a class="reference internal" href="#sqlalchemy.schema.ColumnCollectionMixin" title="sqlalchemy.schema.ColumnCollectionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.ColumnCollectionMixin</span></code></a>, <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.HasConditionalDDL</span></code></a>, <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.schema.SchemaItem</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">expressions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_DDLColumnArgument</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quote</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_InfoType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><span class="pre">Table</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_column_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">dialect_kw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Index.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an index object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Index.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.name">¶</a> – The name of the index</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.*expressions"></span><strong>*expressions</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.*expressions">¶</a> – Column expressions to include in the index.   The expressions
are normally instances of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>, but may also
be arbitrary SQL expressions which ultimately refer to a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.unique"></span><strong>unique=False</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.unique">¶</a> – Keyword only argument; if True, create a unique index.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.quote"></span><strong>quote=None</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.quote">¶</a> – Keyword only argument; whether to apply quoting to the name of
the index.  Works in the same manner as that of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Column.params.quote" title="sqlalchemy.schema.Column"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Column.quote</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.info"></span><strong>info=None</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.info">¶</a> – Optional data dictionary which will be populated
into the <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> attribute of this object.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.params.**dialect_kw"></span><strong>**dialect_kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.params.**dialect_kw">¶</a> – Additional keyword arguments not mentioned above
are dialect specific, and passed in the form
<code class="docutils literal notranslate"><span class="pre">&lt;dialectname&gt;_&lt;argname&gt;</span></code>. See the documentation regarding an
individual dialect at <a class="reference internal" href="../dialects/index.html"><span class="std std-ref">方言</span></a> for detail on
documented arguments.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.argument_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">argument_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argument_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.schema.Index.argument_for" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> <em>method of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>Add a new kind of dialect-specific keyword argument for this class.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Index</span><span class="o">.</span><span class="n">argument_for</span><span class="p">(</span><span class="s2">&quot;mydialect&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">some_index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">mydialect_length</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.argument_for" title="sqlalchemy.sql.base.DialectKWArgs.argument_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DialectKWArgs.argument_for()</span></code></a> method is a per-argument
way adding extra arguments to the
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> dictionary. This
dictionary provides a list of argument names accepted by various
schema-level constructs on behalf of a dialect.</p>
<p>New dialects should typically specify this dictionary all at once as a
data member of the dialect class.  The use case for ad-hoc addition of
argument names is typically for end-user code that is also using
a custom compilation scheme which consumes the additional arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Index.argument_for.params.dialect_name"></span><strong>dialect_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.argument_for.params.dialect_name">¶</a> – name of a dialect.  The dialect must be
locatable, else a <a class="reference internal" href="exceptions.html#sqlalchemy.exc.NoSuchModuleError" title="sqlalchemy.exc.NoSuchModuleError"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoSuchModuleError</span></code></a> is raised.   The
dialect must also include an existing
<a class="reference internal" href="internals.html#sqlalchemy.engine.default.DefaultDialect.construct_arguments" title="sqlalchemy.engine.default.DefaultDialect.construct_arguments"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DefaultDialect.construct_arguments</span></code></a> collection, indicating
that it participates in the keyword-argument validation and default
system, else <a class="reference internal" href="exceptions.html#sqlalchemy.exc.ArgumentError" title="sqlalchemy.exc.ArgumentError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentError</span></code></a> is raised.  If the dialect does
not include this collection, then any keyword argument can be
specified on behalf of this dialect already.  All dialects packaged
within SQLAlchemy include this collection, however for third party
dialects, support may vary.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.argument_for.params.argument_name"></span><strong>argument_name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.argument_for.params.argument_name">¶</a> – name of the parameter.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.argument_for.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.argument_for.params.default">¶</a> – default value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.create">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CreateDropBind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkfirst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Index.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a <code class="docutils literal notranslate"><span class="pre">CREATE</span></code> statement for this
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>, using the given
<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Engine`</span></code> for connectivity.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.create_all()</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.ddl_if">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">ddl_if</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DDLIfCallable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Self</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Index.ddl_if" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL" title="sqlalchemy.schema.HasConditionalDDL"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConditionalDDL</span></code></a></p>
</div>
<p>apply a conditional DDL rule to this schema item.</p>
<p>These rules work in a similar manner to the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if()</span></code> callable, with the added
feature that the criteria may be checked within the DDL compilation
phase for a construct such as <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateTable</span></code>.
<a class="reference internal" href="#sqlalchemy.schema.HasConditionalDDL.ddl_if" title="sqlalchemy.schema.HasConditionalDDL.ddl_if"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasConditionalDDL.ddl_if()</span></code></a> currently applies towards the
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construct as well as all <a class="reference internal" href="#sqlalchemy.schema.Constraint" title="sqlalchemy.schema.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>
constructs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.schema.Index.ddl_if.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.ddl_if.params.dialect">¶</a> – string name of a dialect, or a tuple of string names
to indicate multiple dialect types.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.ddl_if.params.callable_"></span><strong>callable_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.ddl_if.params.callable_">¶</a> – a callable that is constructed using the same form
as that described in
<code class="xref py py-paramref docutils literal notranslate"><span class="pre">ExecutableDDLElement.execute_if.callable_</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.schema.Index.ddl_if.params.state"></span><strong>state</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.schema.Index.ddl_if.params.state">¶</a> – any arbitrary object that will be passed to the
callable, if present.</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><span class="xref std std-ref">schema_ddl_ddl_if</span> - background and usage examples</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.dialect_kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">dialect_kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.Index.dialect_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>The arguments are present here in their original <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code>
format.  Only arguments that were actually passed are included;
unlike the <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> collection, which
contains all options known by this dialect including defaults.</p>
<p>The collection is also writable; keys are accepted of the
form <code class="docutils literal notranslate"><span class="pre">&lt;dialect&gt;_&lt;kwarg&gt;</span></code> where the value will be assembled
into the list of options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> - nested dictionary form</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.dialect_options">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">dialect_options</span></span><a class="headerlink" href="#sqlalchemy.schema.Index.dialect_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_options" title="sqlalchemy.sql.base.DialectKWArgs.dialect_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_options</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A collection of keyword arguments specified as dialect-specific
options to this construct.</p>
<p>This is a two-level nested registry, keyed to <code class="docutils literal notranslate"><span class="pre">&lt;dialect_name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&lt;argument_name&gt;</span></code>.  For example, the <code class="docutils literal notranslate"><span class="pre">postgresql_where</span></code>
argument would be locatable as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">arg</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">.</span><span class="n">dialect_options</span><span class="p">[</span><span class="s1">&#39;postgresql&#39;</span><span class="p">][</span><span class="s1">&#39;where&#39;</span><span class="p">]</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a> - flat dictionary form</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.drop">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_CreateDropBind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkfirst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#sqlalchemy.schema.Index.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a <code class="docutils literal notranslate"><span class="pre">DROP</span></code> statement for this
<a class="reference internal" href="#sqlalchemy.schema.Index" title="sqlalchemy.schema.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a>, using the given
<a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> or <a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> for connectivity.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">MetaData.drop_all()</span></code>.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.info">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">info</span></span><a class="headerlink" href="#sqlalchemy.schema.Index.info" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-attr docutils literal notranslate"><span class="pre">SchemaItem.info</span></code> <em>attribute of</em> <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a></p>
</div>
<p>Info dictionary associated with the object, allowing user-defined
data to be associated with this <a class="reference internal" href="metadata.html#sqlalchemy.schema.SchemaItem" title="sqlalchemy.schema.SchemaItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SchemaItem</span></code></a>.</p>
<p>The dictionary is automatically generated when first accessed.
It can also be specified in the constructor of some objects,
such as <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.schema.Index.kwargs">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.schema.Index"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.schema.Index.</span></code></a><span class="sig-name descname"><span class="pre">kwargs</span></span><a class="headerlink" href="#sqlalchemy.schema.Index.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.kwargs" title="sqlalchemy.sql.base.DialectKWArgs.kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.kwargs</span></code></a> <em>attribute of</em> <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs" title="sqlalchemy.sql.base.DialectKWArgs"><code class="xref py py-class docutils literal notranslate"><span class="pre">DialectKWArgs</span></code></a></p>
</div>
<p>A synonym for <a class="reference internal" href="foundation.html#sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs" title="sqlalchemy.sql.base.DialectKWArgs.dialect_kwargs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DialectKWArgs.dialect_kwargs</span></code></a>.</p>
</dd></dl>

</dd></dl>

</section>
</section>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="defaults.html" title="previous chapter">列INSERT/UPDATE默认值</a>
        Next:
        <a href="ddl.html" title="next chapter">自定义 DDL</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2023, the SQLAlchemy authors and contributors.


    <p><b>flambé!</b> the dragon and <b><i>The Alchemist</i></b> image designs created and generously donated by <a href="https://github.com/vmalloc">Rotem Yaari</a>.</p>

        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 7.0.1.

    Documentation last generated: 2023/8/18 18:58:41

    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '2.0.19',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script type="text/javascript" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
        <script type="text/javascript" src="../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


