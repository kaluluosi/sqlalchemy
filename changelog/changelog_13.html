<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <title>
            
    
    1.3 更新日志
 &mdash;
    SQLAlchemy 2.0 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/default.css" type="text/css" />
                <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 2.0 Documentation" href="../index.html" />
        <link rel="up" title="变更和迁移" href="index.html" />
        <link rel="next" title="1.2 更新日志" href="changelog_12.html" />
        <link rel="prev" title="1.4 版本更新历史" href="changelog_14.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">2.0.19</span>


        | Release Date: July 15, 2023

    </div>

    <h1><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">



        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 2.0 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../index.html">Home</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="变更和迁移">变更和迁移</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="migration_20.html">SQLAlchemy 2.0 - 主要迁移指南</a></span></li>
<li><span class="link-container"><a class="reference external" href="whatsnew_20.html">SQLAlchemy 2.0 有什么新特性？</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_20.html">2.0 变更日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_14.html">1.4 版本更新历史</a></span></li>
<li class="selected"><span class="link-container"><strong>1.3 更新日志</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_12.html">1.2 更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_11.html">1.1 更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_10.html">1.0 更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_09.html">0.9版本更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_08.html">0.8 更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_06.html">0.6 更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_05.html">0.5 更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_04.html">0.4 变更日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_03.html">0.3 更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_02.html">0.2 更新日志</a></span></li>
<li><span class="link-container"><a class="reference external" href="changelog_01.html">版本记录</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_14.html">SQLAlchemy 1.4有哪些新内容？</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_13.html">SQLAlchemy 1.3有什么新特性？</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_12.html">SQLAlchemy 1.2有哪些新特性?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_11.html">SQLAlchemy 1.1新功能</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_10.html">SQLAlchemy 1.0有哪些新特性？</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_09.html">SQLAlchemy 0.9 的新特性</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_08.html">SQLAlchemy 0.8有哪些新特性？</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_07.html">SQLAlchemy 0.7有什么新特性？</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_06.html">SQLAlchemy 0.6 有哪些新变化?</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html">SQLAlchemy 0.5有哪些新特性？</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id1">主要文档更改</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id6">退化源</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id7">需求更改</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id8">ORM</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id21">ORM扩展</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id22">模式/类型</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id23">连接池不再默认为线程本地</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#args-args">*args已接受，不再接受*args</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id44">删除</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id77">已重命名或已移动</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_05.html#id86">已弃用</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html">SQLAlchemy 0.4有什么新功能？</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html#id1">首先要做什么</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html#id2">模块导入</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html#id3">对象关系映射</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html#id22">SQL表达式</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html#id26">架构和反射</a></span></li>
<li><span class="link-container"><a class="reference external" href="migration_04.html#id28">SQL执行</a></span></li>
</ul>



        </div>

        </div>

    </div>

    <div id="narrow-index-nav">
        <form class="search" action="../search.html" method="get">
            <label>
                Search terms:
            <input type="text" placeholder="search..." name="q" size="12" />
            </label>
            <input type="submit" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>

        <p>
        <a href="../index.html">Home</a>
        </p>

    </div>


        <div id="docs-narrow-top-navigation">
            <ul>
                <li><b>Previous:</b>
                <a href="changelog_14.html" title="previous chapter">1.4 版本更新历史</a></li>
                <li><b>Next:</b>
                <a href="changelog_12.html" title="next chapter">1.2 更新日志</a></li>

            <li><b>Up:</b> <a href="../index.html">Home</a></li>
                    <ul><li><a href="index.html" title="变更和迁移">变更和迁移</a></li>
                </ul>



            <li><b>On this page:</b></li>
            <ul>
<li><a class="reference internal" href="#id1">1.3 更新日志</a></li>
</ul>


            </ul>

        </div>



    <div id="docs-body" role="main" class="withsidebar changelog-changelog_13" >
        
<section id="id1">
<h1>1.3 更新日志<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<p>然而，执行:class:<a href="#id2"><span class="problematic" id="id3">`</span></a>.Compiled`对象不应该在其状态中引起任何更改，特别是考虑到一旦完全构建就可以重复使用和线程安全性。</p>
<ul class="simple">
<li><p>Fixed a bug where <strong>and_</strong> queries would incorrectly eliminate <strong>True</strong> components of the condition in some cases</p></li>
<li><p>Fixed a bug when querying with <strong>or_</strong> on a class that’s a join of two entities which could cause an incorrect <strong>DISTINCT</strong> to be rendered</p></li>
<li><p>Fixed a bug where binary types like <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.LargeBinary" title="sqlalchemy.types.LargeBinary"><code class="xref py py-class docutils literal notranslate"><span class="pre">LargeBinary</span></code></a> would not coerce <strong>bytearray</strong> objects correctly</p></li>
<li><p>Fixed a bug where the <cite>json_serializer</cite> and <cite>json_deserializer</cite> parameters for MySQL and SQLite dialects were named incorrectly causing them to be ignored</p></li>
<li><p>Fixed a bug where column_prefix would ignore primaryjoin clauses that contained operators</p></li>
<li><p>Added PostgreSQL <strong>q_substring</strong>, <strong>q_substring_regex</strong>, <strong>q_match</strong>, <strong>q_notmatch</strong> and <strong>q_expression</strong> functions which allows for better control over function arguments</p></li>
<li><p>Fixed a bug where rendering of new JOIN version with <strong>SELECT FOR UPDATE</strong> would not produce expected output</p></li>
<li><p>Fixed a bug where SQLITE_INTEGER and SQLITE_FLOAT types were not being declared with <strong>0 precision</strong></p></li>
<li><p>Fixed a bug where <strong>.first()</strong> and using <strong>LIMIT</strong> with subqueries could cause the subquery to be repeated several times</p></li>
<li><p>Fixed a bug where <strong>q_delete()</strong> would emit <strong>UPDATE</strong> statements inappropriately</p></li>
<li><p>Fixed regression whereby the <cite>text()</cite> construct with a <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.TIME" title="sqlalchemy.types.TIME"><code class="xref py py-class docutils literal notranslate"><span class="pre">TIME</span></code></a> element would fail to produce any SQL</p></li>
<li><p>Fixed issue where <strong>eager_load()</strong> would not assert correctly if it received only a string format to represent many-to-many relationships</p></li>
<li><p>Fixed a bug where <strong>enum.Enum</strong> values could not be used as values for a scalar subquery in criterion expressions despite their being made to support pickling</p></li>
<li><p>Added more specific error message when attempting to use a stored procedure with PyMySQL which does not have a cursor</p></li>
<li><p>Fixed a bug where processing a batch of values with the Oracle driver used in conjunction with the cx_Oracle library would raise unexpected errors</p></li>
<li><p>Added the ability to specify PostgreSQL data types with <strong>both zero</strong> as well as <strong>one parameter</strong></p></li>
<li><p>Added <strong>create_engine_pool_size</strong> and <strong>max_overflow</strong> options to the connections pool configuration</p></li>
<li><p>Added <strong>use_custom_decimal_type</strong> parameter to allow the use of custom <code class="docutils literal notranslate"><span class="pre">Decimal</span></code> types</p></li>
<li><p>Added <strong>UserDefinedTypeComparator.negate()</strong> method support for bitwise complement/negation</p></li>
<li><p>Added support for <strong>symlink</strong> files to dialects that make use of the <strong>os.path.realpath(__file__)</strong> construct</p></li>
<li><p>Added <strong>update_args</strong> parameter to Sqlite dialect <code class="xref py py-meth docutils literal notranslate"><span class="pre">Visitable.replace_with()</span></code> method to support binding parameters correctly in a SQLite query</p></li>
<li><p>Fixed bug where a primaryjoin for a relationship targetting an <strong>aliased()</strong> target with a special <strong>join condition</strong> was not specifying the same join condition in the generated ON clause</p></li>
<li><p>Fixed a bug where using <strong>session.query()</strong> with a <strong>not_</strong> and scalar subquery combinations would not produce the expected results</p></li>
<li><p>Fixed a bug wherein certain incorrect usages of <strong>“.__table__”</strong> within the ORM caused cryptic, hard to diagnose attribute reference issues</p></li>
<li><p>Updated the Error message (raises TypeError) when passing the overall pool object to the <strong>PoolClearer</strong> on the DisconnectedInterface to make it more informative.</p></li>
</ul>
<ul class="simple">
<li><p>Fixed a bug where nested <strong>mutable default dictionary</strong> objects would create the same default object for all keys in the dictionary</p></li>
<li><p>Fixed memory leak that occurs when using <strong>WeakSet</strong> and <strong>Session</strong> to track session instances</p></li>
<li><p>Fixed another bug with the same root cause as [ticket:3921] where a correlated <strong>IN/EXISTS</strong> subquery in a WHERE clause can cause the bind_param dictionary to grow without bound</p></li>
<li><p>Fixed <strong>CHECK</strong> constraint reflection to properly include <strong>constraint comments</strong></p></li>
<li><p>Added <strong>.default_schema_name()</strong> method to the <code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code> object to allow for the default schema to be set based on engine configurations</p></li>
<li><p>When using <strong>sqlite3.reset_warnings()</strong>, sqlalchemy now includes a call to <strong>sqlite3.get_warnings()</strong> in order to ensure all warnings are accumulated</p></li>
<li><p>When using <strong>SQLite</strong> with <strong>custom</strong><a class="reference internal" href="../core/type_api.html#sqlalchemy.types.TypeEngine" title="sqlalchemy.types.TypeEngine"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypeEngine</span></code></a> classes a new parameter called <strong>support_slicing</strong> is now available to allow for type slicing as normal</p></li>
<li><p>Fixed issue where excluding an element of the mapping in the relationship would fail to disambiguate the <strong>ON clause</strong></p></li>
<li><p>Addressed issue where infinitely recursive Python dictionary wtih <strong>defaultdict</strong> can cause <strong>AttributeError</strong></p></li>
<li><p>Enhanced the <strong>ORM</strong> so that when using <strong>with_for_update()</strong> with join() on statement, the <strong>FOR UPDATE</strong> clause is rendered always along all other locking clauses</p></li>
<li><p>Extend the <strong>enum.Enum</strong> usage in all applicable places for ORM elements</p></li>
<li><p>Fixed a bug where the type of column created when ALTERing a column from <strong>VARCHAR(MAX)</strong> was not being handled correctly and resulting in an incorrect column type after the ALTER</p></li>
<li><p>Made <strong>NULL</strong> constants compatible with <strong>Interval</strong> Type.</p></li>
<li><p>Added support for <strong>array comprehension</strong> and <strong>ArraySlice</strong> objects in the postgresql dialect</p></li>
<li><p>Added more fine-grained message system to connection pool parameters __doc__ and <code class="xref py py-class docutils literal notranslate"><span class="pre">ConnectionPool</span></code></p></li>
<li><p>Added the ability to using <strong>psycopg2.extras.DictCursor</strong> objects to the <strong>execute</strong> and <strong>stream_select</strong> methods in the postgresql dialect</p></li>
<li><p>Added <strong>ScalarSelect</strong> object which allows for an easy way of specifying subqueries requiring only a scalar value where raw SQL is not needed</p></li>
<li><p>Added a new parameter <strong>batch=False</strong> to the <strong>.execute()</strong> method of the connection pool, to enable the output of parameters from <strong>PostgreSQL</strong> similar to those found in <strong>PSYCOPG2</strong> and its use of <strong>execute_many()</strong></p></li>
<li><p>Added support for <strong>JSONB</strong> scalar type and JSONB-based <strong>array()</strong> type, including new objects <strong>JSON</strong> and <strong>JSONB</strong> to ease usage</p></li>
<li><p>Added <strong>automap_batch</strong> option to help automate the use of <code class="xref py py-func docutils literal notranslate"><span class="pre">automap()</span></code>, such that it can be used to map tables that reference one another without requiring a user-defined iteration sequence</p></li>
<li><p>Fixed a bug where using <strong>PostgreSQL {__db_link__}</strong> feature and dictionaries as the bind parameters would result in them being passed to the database as string</p></li>
<li><p>Added support for arbitrary order-by clauses in subqueries, such as those generated by an applied FROM clause or to reflect the best relationship join between the tables being queried</p></li>
<li><p>Fixed that the MySQL multimaster replication SQL would fail on unhandled VARCHAR type with encoding such as utf8mb4</p></li>
<li><p>Corrected a deep relational dependency issue related to the way the ORM handles the “select” concept, so that queries involving deep inheritance relationships no longer produce unnecessary joins and subqueries</p></li>
<li><p>Added Postgres <strong>tsrange</strong>, <strong>tstzrange</strong>, <strong>json</strong> and <strong>jsonb</strong> types to <code class="xref py py-class docutils literal notranslate"><span class="pre">auto_generate_type()</span></code> method</p></li>
</ul>
<ul class="simple">
<li><p>Fix a bug that causes the MySQL dialect wouldn’t interpret None correctly when converting a String type to TEXT</p></li>
<li><p>Fix a bug where the xmltodict package receives Unicode data and does not convert to a string, causing compatibility issues with the ORM when using <strong>json.loads</strong></p></li>
<li><p>Bug fixed where SQLite types (NUMERIC, INTEGER, REAL, and TEXT) do not have a <code class="xref py py-func docutils literal notranslate"><span class="pre">create()</span></code> method</p></li>
<li><p>Fix a bug where the ORM lazy load of related rows would cause the query to go into an infinite loop</p></li>
<li><p>Fix a bug where the <code class="xref py py-meth docutils literal notranslate"><span class="pre">default()</span></code> feature of the <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> object is used, the <strong>server_default</strong> parameter would not be able to access the <strong>metadata</strong> argument due to the <strong>Column</strong> object being at initialization time in <strong>metadata</strong></p></li>
<li><p>Fix an error in the <strong>sqlalchemy.dialects.mysql.types.JSON</strong> implementation where <strong>BinaryString</strong> keys to JSON were not being interpreted.</p></li>
<li><p>Starting a transaction on postgresql, for example, could result in a warning if the <strong>XLOG</strong> of the PostgreSQL server was too large</p></li>
<li><p>The SQLAlchemy ORM will now silently omit any non-primary-items from insert and update when using the bulk operations if they are not defined to be included in the table</p></li>
<li><p>Fixed a regression in the ORM whereby inheritance-based queries where features from subclass tables were included in the WHERE clause would have inconsistent results across backends</p></li>
<li><p>Added support for <strong>Protocol Version 14</strong> in the <code class="xref py py-class docutils literal notranslate"><span class="pre">psycopg2</span></code> dialect</p></li>
<li><p>Fixed Postgresql dialect support for <strong>ARRAY</strong> when elements are of varying length</p></li>
<li><p>Enhancements to the <code class="xref py py-func docutils literal notranslate"><span class="pre">create_engine()</span></code> function allow for more granular control of <strong>connection pool</strong> limits, such as specifying a maximum number of connections for the pool itself</p></li>
<li><p>Fix an issue with the underlying Unicode codepoint programming model that was causing alphanumeric characters to be mistakenly included when creating SQL queries with explicit bounds</p></li>
<li><p>Fixed an issue where the <code class="docutils literal notranslate"><span class="pre">__tablename__</span></code> attribute of ORM classes was not being created properly if any of the characters used in the name were illegal in a Windows filename</p></li>
<li><p>Added <strong>Enum.Enum</strong> support to SQLExpressions.</p></li>
<li><p>Fixed an issue with regexes, such that advanced unicode-compatible flags will raise a compile-time error message if they are being used on earlier versions of Python that don’t support them</p></li>
<li><p>Fixed an issue introduced in version 1.3.4 whereby boolean expressions with nested functions like <strong>Case</strong> or <strong>cast()</strong> could raise an inadvertent <strong>CursorClosedException</strong></p></li>
<li><p>Fixed an incompatibility between <strong>execute_values()</strong> and <strong>ON DUPLICATE KEY UPDATE</strong> functionality on the MySQL/MariaDB dialects, caused by the keywords being treated as SQL fragments during the parsing step</p></li>
<li><p>Fixed a bug where lazy loaded many-to-one bi-directional relationships would add a SQL statement that is not needed, if subordinate objects were loaded by eager load due to the path between the related attribute of the parent and the subordinate object going through their mutual <strong>mapper</strong> instance</p></li>
<li><p>Fixed a regression introduced in version 1.3.4 such that the “autoincrement” attribute of a <a class="reference internal" href="../core/metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> will only be disabled for columns that don’t support autoincrement explicitly</p></li>
<li><p>Fixed a bug where the <strong>.cache_key()</strong> method of <a class="reference internal" href="../orm/queryguide/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a> objects did not clear the ORM weak-referenced cache when called</p></li>
<li><p>Fixed regression in the ORM around the ability for the component registry storing <strong>primary</strong> objects related to ancestor/descendant management to serialize/deserialize itself for some cases such that it stores the correct state related to <strong>eager</strong> operations</p></li>
<li><p>Added a <strong>sqlalchemy.future</strong> sub-package which includes various performance-improving and time-saving features for applications. It provides several improvements to the ORM and SQL expression language, and is intended to be a preview of what’s in store for the SQLAlchemy 2.0 release due in 2020.</p></li>
</ul>
<ul class="simple">
<li><p>Fixed an issue with the <strong>MySQL</strong> dialect where a query without results for a certain column would cause all following queries to raise a warning</p></li>
<li><p>Fixed <strong>CHECK</strong> constraint reflection to include <strong>constraint comments</strong></p></li>
<li><p>Fixed an issue whereby some cases of deeply nested <strong>FILTER</strong> clauses may cause an assertion error.</p></li>
<li><p>Fixed an issue where in the <strong>ORM</strong> setting an unloaded scalar attribute to a non scalar value would raise an error when a cycled backref has been created</p></li>
<li><p>Fixed an issue where arrays with zero or one dimension(s) where being wrapped in parens</p></li>
</ul>
<p>-Fixed an issue where the <code class="xref py py-func docutils literal notranslate"><span class="pre">_model_identity.util.default_column_name()</span></code> function could be passed a tuple as an argument, which would cause a JSON Encoding failure
- Fixed an issue where reflection of <strong>postgres hstore</strong> returns a <strong>NoneType</strong> value as the second element of a <strong>(key,) tuple</strong>
- Fixed an issue where <code class="docutils literal notranslate"><span class="pre">postgres.contrib.postgis</span></code> didn’t allow <strong>Geography</strong> columns to be passed to its constructor
- Fixed a bug where the timezone-sensitive <a class="reference internal" href="../core/type_basics.html#sqlalchemy.types.DateTime" title="sqlalchemy.types.DateTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateTime</span></code></a> would leak a connection on transaction flip when the server-side default timezone was different from the client´s timezone
- Fixed <strong>TypeDecorator</strong> issues where types would not compile when used with <strong>postgresql.array</strong> or <strong>postgresql.Composite</strong>
- Fixed an issue where Python 3’s <strong>OrderedDict</strong> returned values list for a dictionary sometimes wouldn’t hash correctly
- Fixed an issue where <strong>pooling=True</strong> in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.connect()</span></code> would not always return <strong>Connection</strong>
- Fixed an issue where the <strong>“rowcount does not match number of statements executed”</strong> warning would only occur for delete statements that have multiple subqueries
- Fixed an issue where <strong>BOOLEAN</strong> expressions with nested functions like <strong>CASE</strong> or <strong>cast()</strong> could raise <strong>AttributeError</strong> in Python 3.x
- Fixed an issue where discrepancies in column names between server and client will be not correctly handled by sqlite’s <strong>DROP TABLE</strong>
- Fixed a bug where the <strong>SQLAlchemy</strong> ORM would break when queries were run that contained both a UNION with a subquery that defined a column label and a column label that existed in the query itself
- Fixed an issue where <strong>Query.join</strong> with a <strong>NULL</strong> column would raise an exception</p>
</section>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="changelog_14.html" title="previous chapter">1.4 版本更新历史</a>
        Next:
        <a href="changelog_12.html" title="next chapter">1.2 更新日志</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2023, the SQLAlchemy authors and contributors.


    <p><b>flambé!</b> the dragon and <b><i>The Alchemist</i></b> image designs created and generously donated by <a href="https://github.com/vmalloc">Rotem Yaari</a>.</p>

        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 7.0.1.

    Documentation last generated: 2023/8/18 10:06:52

    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '2.0.19',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script type="text/javascript" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/sphinx_highlight.js"></script>
        <script type="text/javascript" src="../_static/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


